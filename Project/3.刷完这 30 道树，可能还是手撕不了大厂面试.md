# åˆ·å®Œè¿™ 30 é“æ ‘ï¼Œå¯èƒ½è¿˜æ˜¯æ‰‹æ’•ä¸äº†å¤§å‚é¢è¯•
## å‰è¨€

æŸä¸ªç”·äººè¯´è¿‡ [å‡ ä¹åˆ·å®Œäº†åŠ›æ‰£æ‰€æœ‰çš„æ ‘é¢˜ï¼Œæˆ‘å‘ç°äº†è¿™äº›ä¸œè¥¿ã€‚ã€‚ã€‚](https://leetcode-solution-leetcode-pp.gitbook.io/leetcode-solution/thinkings/tree),è€Œæˆ‘ä½œä¸ºä¸€ä¸ªè‡´åŠ›ç§°ä¸ºå¨å¸ˆç•Œæœ€ä¼šå†™ç®—æ³•çš„å‰ç«¯ï¼Œæ€»å¾—åˆ·ä¸Šä¸€éƒ¨åˆ†é¢˜ï¼Œæœ‰é‚£ä¹ˆä¸€ç‚¹å‘ç°å§ï¼Œç°åœ¨æˆ‘ä»¬å°±æ¥èŠèŠï¼Œèœé¸¡å¦‚æˆ‘ï¼Œå‘ç°äº†ä»€ä¹ˆã€‚

## æ­£æ–‡

å¾ˆå¤šå¤§ä½¬éƒ½æ¨èæˆ‘ä»¬å…¥é—¨ç®—æ³•å¯ä»¥ä»`æ ‘ä¸“é¢˜`å¼€å§‹ï¼Œç„¶åä»`æ ‘ä¸“ä¸š`æ”¾å¼ƒï¼Œé‚£ä¹ˆæ ‘ä¸ºä»€ä¹ˆé‚£ä¹ˆçš„é‡è¦ -- æˆ‘ä¹Ÿä¸çŸ¥é“ï¼Œå› ä¸ºæˆ‘ä¸æ˜¯å¤§ä½¬ï¼›

ä½†æ˜¯åœ¨å‰ç«¯ä¸­ç¡®å®ç”¨åˆ°ä¸å°‘ä¸æ ‘ç›¸å…³çš„çš„çŸ¥è¯†ï¼Œæ¯”æ–¹è¯´ DOM æ ‘ï¼ŒDiff ç®—æ³•ï¼ŒåŒ…æ‹¬åŸå‹é“¾å…¶å®éƒ½ç®—æ˜¯æ ‘ï¼Œå­¦ä¼šæ ‘ï¼Œå…¶å®å¯¹äºå­¦è¿™äº›çŸ¥è¯†è¿˜æ˜¯æœ‰æ¯”è¾ƒå¤§çš„å¸®åŠ©çš„ï¼Œå½“ç„¶æˆ‘ä»¬å­¦ç®—æ³•è¿˜æ˜¯å¾—è€ƒè™‘é¢è¯•ï¼Œè€Œæ ‘æ°å¥½ä¹Ÿæ˜¯ä¸€ä¸ªå¤§é‡ç‚¹ -- èµ·ç åœ¨å‰ç«¯è€Œè¨€ï¼›

ä¸»è¦åŸå› åœ¨äºï¼Œæ ‘å®ƒåè€Œä¸å®ï¼Œæ¯”è¾ƒä¸‹é‡Œå·´äººï¼Œéœ€è¦æŠ½è±¡ä½†æ˜¯åˆèƒ½æŠŠå›¾ç”»å‡ºæ¥ä¸è‡³äºè®©ä½ æ¯«æ— å¤´ç»ªï¼Œç®€å•è€Œè¨€å°±æ˜¯çœ‹ä¸Šå»å¾ˆå‰å®³ï¼Œä½†å®é™…ä¸Šä¹Ÿå¾ˆæ¥åœ°æ°”ï¼Œä¿—ç§°`æ¯”è¾ƒä¸€èˆ¬`ï¼›è¦çŸ¥é“åšå‰ç«¯çš„é¢è¯•ç®—æ³•ï¼Œè€ƒçš„ä¸å°±æ˜¯ä½ æœ‰ä¹ˆå¾—ä¸»åŠ¨å­¦ä¹ èƒ½åŠ›ï¼ŒæŠ½è±¡èƒ½åŠ›ç­‰ï¼Œä½†æ˜¯è€ƒè™‘åˆ°å‚å·®ä¸é½çš„å‰ç«¯å¨±ä¹åœˆï¼Œè€ƒå¾—éš¾å§å¯èƒ½å°±å…¨æ˜¯æ¼ç½‘ä¹‹é±¼äº†ï¼Œæ‰€ä»¥æ—¢è¦ç­›é€‰å‡ºé±¼ï¼Œä½†æ˜¯åˆä¸èƒ½éš¾åº¦è¿‡å¤§ï¼Œæ ‘å°±æ˜¯é‚£ä¸ªæ¯”è¾ƒé€‚ä¸­çš„ï¼Œæ‰€ä»¥èµ¶ç´§åˆ·èµ·æ¥å§æœ‹å‹ä»¬ï¼›

è¿™é‡Œæœ¬æ¥æ˜¯è¦éµç…§ 3:5:2 éš¾åº¦æ¥åˆ·ï¼Œé¢„è®¡åˆ·ä¸ª30é¢˜å°±å·®ä¸å¤šï¼Œä½†æ˜¯å®é™…ä¸­ç­‰é¢˜åˆ·å¾—æ¬²ç½¢ä¸èƒ½ï¼Œéš¾é¢˜æ˜¯æ¬²ä»™æ¬²æ­»ï¼Œå®¹æ˜“é¢˜æ˜¯å‘³å¦‚åš¼èœ¡ï¼Œæ‰€ä»¥ XDM æ‹…å¾…ä¸€ä¸‹ã€‚é€‰é¢˜ä¸»è¦æ˜¯é‚£ä¸ªç”·äººç²¾é€‰çš„ä¾‹é¢˜ä»¥åŠ Leetcode ä¸­ HOT é¢˜å’Œå­—èŠ‚ä¸“é¢˜ï¼Œæ€»çš„æ¥è¯´ä»£è¡¨æ€§è¿˜æ˜¯å¤Ÿçš„ï¼Œåˆ·å®Œåº”è¯¥å¤§æ¦‚æˆ–è®¸èƒ½å¤Ÿåº”ä»˜ä¸€ä¸‹æ ‘è¿™æ–¹é¢çš„ç®—æ³•äº†ã€‚

å¦‚æœè§‰å¾—æœ‰é‚£ä¹ˆç‚¹å¸®åŠ©ï¼Œè¯·ç‚¹ä¸ªèµç•™ä¸ªè¨€ï¼Œç‚¹èµè¶…è¿‡10ä¸ªå°±æ›´æ–°ä¸‹ä¸€partï¼›å¥½å§ï¼Œå³ä¾¿ä¸è¿‡ä¹Ÿä¼šæ›´æ–°ï¼Œå°±æ˜¯è¿™ä¹ˆè‡­ä¸è¦è„¸ï¼Œå¤§å®¶ä¼™åŠ æ²¹å§ï¼Œæ¬§åŠ›ç»™ï¼ï¼

## äºŒå‰æ ‘çš„éå†

é€’å½’éå†
1. é€’å½’çš„æ—¶å€™å‰ä¸­ååºéƒ½èƒ½ç›´æ¥å¤„ç†å®Œäº†
2. é€’å½’æ˜¯å‰ä¸­ååºéå†æœ€ç®€å•ä¹Ÿæ˜¯æœ€å®¹æ˜“å‡ºç†è§£çš„æ–¹æ³•ï¼Œä¸æ‡‚çš„ç”»ä¸ªå›¾å°±å¥½äº†

è¿­ä»£éå† -- åŒè‰²æ ‡è®°æ³•
1. ä½¿ç”¨é¢œè‰²æ ‡è®°èŠ‚ç‚¹çŠ¶æ€ï¼Œæ–°èŠ‚ç‚¹ä¸ºç™½è‰²ï¼Œå·²ç»è®¿é—®çš„èŠ‚ç‚¹ä¸ºç°è‰² -- å¯ä»¥ç”¨æ•°å­—æˆ–è€…å…¶ä»–ä»»æ„æ ‡ç­¾æ ‡ç¤º
2. å¦‚æœé‡åˆ°çš„èŠ‚ç‚¹æ˜¯ç™½è‰²ï¼Œåˆ™æ ‡è®°ä¸ºç°è‰²ï¼Œç„¶åå°†å³èŠ‚ç‚¹ï¼Œè‡ªèº«ï¼Œå·¦èŠ‚ç‚¹ä¸€æ¬¡å…¥æ ˆ -- ä¸­åºéå†
3. å¦‚æœé‡åˆ°çš„èŠ‚ç‚¹æ˜¯ç°è‰²çš„ï¼Œåˆ™å°†èŠ‚ç‚¹è¾“å‡º
4. æ³¨æ„è¿™é‡Œæ˜¯ç”¨ stack æ ˆæ¥å­˜å‚¨çš„ï¼Œæ‰€ä»¥æ˜¯åè¿›å…ˆå‡ºï¼Œæ‰€ä»¥å¦‚æœæ˜¯ä¸­åºéå†ï¼Œå·¦ - ä¸­ - å³ ï¼Œé‚£ä¹ˆåœ¨æ’å…¥æ ˆçš„æ—¶å€™è¦åè¿‡æ¥ å³ - ä¸­ - å·¦

æŒ‰ç…§é‚£ä¸ªç”·äººçš„æŒ‡ç¤ºï¼Œæ­£å¸¸æˆ‘ä»¬å°±ç”¨é€’å½’åšå°±å¥½ï¼Œå°±å¥½åƒæˆ‘ä»¬åšéæ’åºé¢˜æ’åºçš„æ—¶å€™ï¼Œsort ä¸€ä¸‹å°±å¥½äº†ï¼Œä½†æ˜¯ä¸€æ—¦é¢è¯•å®˜é—®åˆ°ç”¨å¦å¤–çš„è¿­ä»£æ–¹å¼çš„æ—¶å€™ï¼Œæˆ‘ä»¬å†å¥—ä¸ªæ¨¡æ¿ï¼Œä¼šæ¯”è®°ä½å¤šä¸ªè¿­ä»£å†™æ³•è¦ç®€å•ï¼Œæ¯•ç«Ÿå†…å­˜å®¹é‡æœ‰é™ï¼Œè€Œåç»­éå†çš„è¿­ä»£å†™æ³•ç¡®å®æŒºå‘çš„ï¼Œèƒ½çœä¸€ç‚¹å†…å­˜å°±çœä¸€ç‚¹å§


### [144. äºŒå‰æ ‘çš„å‰åºéå†](https://leetcode-cn.com/problems/binary-tree-preorder-traversal/solution/)

```javascript
// 144. äºŒå‰æ ‘çš„å‰åºéå†

/**
 * @åˆ†æ -- é€’å½’
 */
var preorderTraversal = function (root) {
  const ret = [];
  const recursion = (root) => {
    if (!root) return;
    ret.push(root.val);
    recursion(root.left);
    recursion(root.right);
  };
  recursion(root);
  return ret;
};

/**
 * @åˆ†æ -- è¿­ä»£ -- åŒè‰²æ ‡è®°æ³•
 * 1. ä½¿ç”¨é¢œè‰²æ ‡è®°èŠ‚ç‚¹çŠ¶æ€ï¼Œæ–°èŠ‚ç‚¹ä¸ºç™½è‰²ï¼Œå·²ç»è®¿é—®çš„èŠ‚ç‚¹ä¸ºç°è‰² -- å¯ä»¥ç”¨æ•°å­—æˆ–è€…å…¶ä»–ä»»æ„æ ‡ç­¾æ ‡ç¤º
 * 2. å¦‚æœé‡åˆ°çš„èŠ‚ç‚¹æ˜¯ç™½è‰²ï¼Œåˆ™æ ‡è®°ä¸ºç°è‰²ï¼Œç„¶åå°†å³èŠ‚ç‚¹ï¼Œè‡ªèº«ï¼Œå·¦èŠ‚ç‚¹ä¸€æ¬¡å…¥æ ˆ -- ä¸­åºéå†
 * 3. å¦‚æœé‡åˆ°çš„èŠ‚ç‚¹æ˜¯ç°è‰²çš„ï¼Œåˆ™å°†èŠ‚ç‚¹è¾“å‡º
 * 4. æ³¨æ„è¿™é‡Œæ˜¯ç”¨ stack æ ˆæ¥å­˜å‚¨çš„ï¼Œæ‰€ä»¥æ˜¯åè¿›å…ˆå‡ºï¼Œè¿™é‡Œæ˜¯å‰åºéå†ï¼Œä¸­ - å·¦  - å³ ï¼Œé‚£ä¹ˆåœ¨æ’å…¥æ ˆçš„æ—¶å€™è¦åè¿‡æ¥ å³ - å·¦ - ä¸­
 */
var preorderTraversal = function (root) {
  const ret = [];
  const stack = [];
  stack.push([root, 0]); // 0 æ˜¯ç™½è‰²æœªå¤„ç†çš„ï¼Œ1 æ˜¯ç°è‰²å¤„ç†è¿‡çš„
  while (stack.length) {
    const [root, color] = stack.pop();
    if (root) {
      if (color === 0) {
        // é‡åˆ°ç™½çƒï¼Œåˆ™æ’å…¥ -- å‰åº
        stack.push([root.right, 0]);
        stack.push([root.left, 0]);
        stack.push([root, 1]);
      } else {
        // é‡åˆ°ç°çƒï¼Œåˆ™æ”¶ç½‘
        ret.push(root.val);
      }
    }
  }
  return ret;
};

```

### [1.94 äºŒå‰æ ‘çš„ä¸­åºéå†](https://leetcode-cn.com/problems/binary-tree-inorder-traversal/)

```javascript
// 94. äºŒå‰æ ‘çš„ä¸­åºéå†

/**
 * @åˆ†æ
 * 1. é€’å½’çš„æ—¶å€™å‰ä¸­ååºéƒ½èƒ½ç›´æ¥å¤„ç†å®Œäº†
 * 2. é€’å½’æ˜¯å‰ä¸­ååºéå†æœ€ç®€å•ä¹Ÿæ˜¯æœ€å®¹æ˜“å‡ºç†è§£çš„æ–¹æ³•ï¼Œä¸æ‡‚çš„ç”»ä¸ªå›¾å°±å¥½äº†
 */
var inorderTraversal = function(root) {
    const ret  = []
    const recursion = root => {
        if(!root) return
        recursion(root.left)
        // è¿™é‡Œæ˜¯ä¸­åºï¼Œæ‰€ä»¥åœ¨ä¸¤ä¸ªé€’å½’ä¹‹é—´ï¼Œå¦‚æœæ˜¯å‰åºå°±åœ¨å‰é¢ï¼Œååºå°±åœ¨åé¢
        ret.push(root.val)
        recursion(root.right)
    }
    recursion(root)
    return ret
};

/**
 * @åˆ†æ -- è¿­ä»£ -- åŒè‰²æ ‡è®°æ³•
 * 1. ä½¿ç”¨é¢œè‰²æ ‡è®°èŠ‚ç‚¹çŠ¶æ€ï¼Œæ–°èŠ‚ç‚¹ä¸ºç™½è‰²ï¼Œå·²ç»è®¿é—®çš„èŠ‚ç‚¹ä¸ºç°è‰² -- å¯ä»¥ç”¨æ•°å­—æˆ–è€…å…¶ä»–ä»»æ„æ ‡ç­¾æ ‡ç¤º
 * 2. å¦‚æœé‡åˆ°çš„èŠ‚ç‚¹æ˜¯ç™½è‰²ï¼Œåˆ™æ ‡è®°ä¸ºç°è‰²ï¼Œç„¶åå°†å³èŠ‚ç‚¹ï¼Œè‡ªèº«ï¼Œå·¦èŠ‚ç‚¹ä¸€æ¬¡å…¥æ ˆ -- ä¸­åºéå†
 * 3. å¦‚æœé‡åˆ°çš„èŠ‚ç‚¹æ˜¯ç°è‰²çš„ï¼Œåˆ™å°†èŠ‚ç‚¹è¾“å‡º
 * 4. æ³¨æ„è¿™é‡Œæ˜¯ç”¨ stack æ ˆæ¥å­˜å‚¨çš„ï¼Œæ‰€ä»¥æ˜¯åè¿›å…ˆå‡ºï¼Œæ‰€ä»¥å¦‚æœæ˜¯ä¸­åºéå†ï¼Œå·¦ - ä¸­ - å³ ï¼Œé‚£ä¹ˆåœ¨æ’å…¥æ ˆçš„æ—¶å€™è¦åè¿‡æ¥ å³ - ä¸­ - å·¦
 */
var inorderTraversal = function(root) {
    const ret  = []
    const stack = []
    stack.push([root,0]) // 0 æ˜¯ç™½è‰²æœªå¤„ç†çš„ï¼Œ1 æ˜¯ç°è‰²å¤„ç†è¿‡çš„
    while(stack.length) {
        const  [root,color] = stack.pop()
        if(root){
            if(color === 0){
                // é‡åˆ°ç™½çƒï¼Œåˆ™æ’å…¥ -- ä¸­åºéå†
                stack.push([root.right,0])
                stack.push([root,1])
                stack.push([root.left,0])
            }else{
                // é‡åˆ°ç°çƒï¼Œåˆ™æ”¶ç½‘
                ret.push(root.val)
            }
        } 
    }
    return ret
};
```

### [145. äºŒå‰æ ‘çš„ååºéå†](https://leetcode-cn.com/problems/binary-tree-postorder-traversal/submissions/)

```javascript
// 145. äºŒå‰æ ‘çš„ååºéå†

/**
 * @åˆ†æ -- é€’å½’
 */
var postorderTraversal = function(root) {
    const ret = []
    const dfs = (root) => {
        if(!root) return 
        dfs(root.left)
        dfs(root.right)
        ret.push(root.val)
    }
    dfs(root)
    return ret
};

/**
 * @åˆ†æ -- è¿­ä»£ -- åŒè‰²çƒ
 */
var postorderTraversal = function(root) {
    const ret = []
    const stack = []
    stack.push([root,0])
    while(stack.length){
        const [root,color] = stack.pop()
        if(root) {
            if(color === 0){
                stack.push([root,1])
                stack.push([root.right,0])
                stack.push([root.left,0])
            }else{
                ret.push(root.val)
            }
        } 
    }
    return ret
}
```


## åˆ·é¢˜è¿‡ç¨‹ä¸€äº›ç–‘æƒ‘ç‚¹

### è‡ªé¡¶å‘ä¸‹(å‰åºéå†)å’Œè‡ªä½å‘ä¸Š(åç»­éå†)

è¿™ä¸¤ä¸ªåè¯åœ¨å¾ˆå¤šè®²æ ‘çš„é¢˜è§£ä¸­ç»å¸¸ä¼šå‡ºç°ï¼Œè€Œè¿™ä¸æˆ‘ä»¬éå†æ ‘æ±‚å€¼åˆ°åº•å…³è”ç‚¹åœ¨å“ªé‡Œï¼Œæ…¢æ…¢åˆ·é¢˜ä¹‹åæˆ‘å‘ç°ï¼Œè™½ç„¶ dfs æœ‰ä¸‰ç§å½¢å¼ï¼Œä½†åœ¨æŠ½è±¡åˆ°å…·ä½“é¢˜ç›®çš„æ—¶å€™ï¼Œå…¶å®æ˜¯å±äºä¸åŒçš„æ–¹æ³•çš„ã€‚

å¯¹äº`å‰åºéå†`è€Œè¨€ï¼Œå°±æ˜¯å…ˆè·å–åˆ°æ ¹èŠ‚ç‚¹çš„ä¿¡æ¯ï¼Œç„¶ååšäº†ä¸€å®šç¼–ç åï¼Œå†å‘ä¸‹éå†ï¼Œè¿™ç§éå†æ–¹å¼å°±æ˜¯æ‰€è°“çš„ `è‡ªé¡¶å‘ä¸‹` çš„æ€ç»´ï¼Œæˆ‘ä»¬ä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œå¯ä»¥æºå¸¦ä¸€å®šçš„ä¿¡æ¯ï¼Œå†ç»§ç»­å¾€ä¸‹éå†æ—¶ï¼Œå…ˆå¤„ç†ï¼Œå¾—åˆ°ä¸´æ—¶æ€§ç»“æœï¼Œç»™é¡¶å±‚çš„èŠ‚ç‚¹ä½œä¸ºä¿¡æ¯ï¼›

å¯¹äº`è‡ªé¡¶å‘ä¸‹`çš„éå†è€Œå·²ï¼Œéå†åˆ°æ ¹èŠ‚ç‚¹ï¼Œå°±å¤„ç†ç»“æŸæ‰€æœ‰çš„èŠ‚ç‚¹ï¼Œä¹Ÿç›¸åº”çš„å¾—åˆ°é¢„æœŸç»“æœäº†ï¼Œæ‰€ä»¥ä¸€èˆ¬ä½¿ç”¨`å‰åºéå†`æ–¹æ³•è§£é¢˜çš„ï¼Œéƒ½ä¼šå£°æ˜ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œç„¶åéå†å®Œä¹‹åï¼Œè¿”å›è¿™ä¸ªå€¼.

ä¾‹å­:[563. äºŒå‰æ ‘çš„å¡åº¦](https://leetcode-cn.com/problems/binary-tree-tilt/solution/zi-di-xiang-shang-by-jzsq_lyx-24re/)
```javascript
åˆ†æ
1. è‡ªåº•å‘ä¸Šè¿”å›å­æ ‘å€¼ä¹‹å’Œï¼Œç„¶åæ±‚å‡ºå¯¹åº”çš„å¡åº¦ï¼Œç´¯åŠ èµ·æ¥å³å¯.
2. éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå·¦å³å­æ ‘çš„ç´¯åŠ å€¼å¤§å°ä¸ç¡®å®šï¼Œéœ€è¦ç”¨ç»å¯¹å€¼
3. æ—¶é—´å¤æ‚åº¦ ${O(N)}$

var findTilt = function (root) {
  let ret = 0;
  const recursion = (root) => {
    if (!root) return 0;
    const left = recursion(root.left);
    const right = recursion(root.right);
    ret += Math.abs(left - right);
    return left + right + root.val;
  };
  recursion(root);
  return ret;
};
```

å¯¹äº`ååºéå†` è€Œè¨€ï¼Œæ˜¯æƒ³éå†åˆ°å¶å­èŠ‚ç‚¹ï¼Œç„¶åå†å‘ä¸Šå»å¤„ç†æ ¹èŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯æ‰€è°“çš„ `è‡ªåº•å‘ä¸Š` ï¼›

å®é™…ä¸Šï¼Œ`è‡ªåº•å‘ä¸Š`æ˜¯ä¸€ç§é€’å½’çš„æ–¹æ³•ï¼Œå…ˆ`é€’` åˆ°å¶å­èŠ‚ç‚¹ï¼Œå¤„ç†å®Œè¿”å›ä¸€å®šçš„å€¼ï¼Œå†`å½’`å›æ¥ï¼Œåç»­çš„å¤„ç†éƒ½æ˜¯æ ¹æ®å­æ ‘çš„å€¼ä½œä¸ºå…¥å‚çš„ï¼Œæ‰€ä»¥ä¸è¦è¢« `éå†` è¿·æƒ‘ï¼Œ`åç»­éå†` å¯ä¸æ˜¯éå†å®Œå°±ç»“æŸäº†ï¼Œé‚£æ‰åˆšåˆšå¼€å§‹å‘¢ã€‚

æ‰€ä»¥åé¢ä¸ºäº†åŒºåˆ†ï¼Œåœ¨å¤„ç†`è‡ªåº•å‘ä¸Š`é¢˜ç›®çš„æ—¶å€™ï¼Œå‡½æ•°åå­—éƒ½ä¸å†ä½¿ç”¨ dfsï¼Œè€Œæ˜¯ç›´æ¥ä½¿ç”¨ recursion ï¼›

ä¾‹å­: 


### åˆ¤æ–­éå†åˆ°è¾¹ç•Œï¼Œä»€ä¹ˆåœ¨å¶å­èŠ‚ç‚¹å¤„åˆ¤æ–­ï¼Œä»€ä¹ˆæ—¶å€™ç›´æ¥è·‘åˆ° null è¿”å›ï¼Ÿ

å…ˆæ¥è§£é‡Šä¸€ä¸‹ï¼Œåœ¨åš dfs éå†çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦éå†åˆ°å¶å­èŠ‚ç‚¹ï¼Œç„¶ååšæœ€ç»ˆçš„å¤„ç†ï¼Œæœ‰çš„é¢˜ç›®æˆ‘ä»¬çœ‹åˆ°çš„æ˜¯åˆ¤ `null` æ—¶è¿”å› null/0 ç­‰ï¼›æœ‰çš„æ—¶å€™æˆ‘ä»¬ç›´æ¥åˆ¤æ–­æ˜¯å¦å¶å­èŠ‚ç‚¹ï¼Œ`if(!root.left && !root.right)`ï¼›

è¿™æ˜¯åœ¨åˆ·é¢˜è¿‡ç¨‹ä¸­æ„Ÿè§‰å¿’è¿·æƒ‘çš„åœ°æ–¹ï¼Œåœ¨æœ€å¼€å§‹çš„æ—¶å€™ï¼Œæˆ‘å–œæ¬¢ä½¿ç”¨ null ï¼Œå› ä¸ºå®ƒå†™çš„æ›´å°‘ï¼Œè€Œä¸”é¡ºä¾¿æŠŠæ ¹èŠ‚ç‚¹ä¸ºç©ºçš„è¾¹ç•Œä¹Ÿåšäº†ï¼Œæœ€è¿‘åˆ·çš„æ—¶å€™æˆ‘å¼€å§‹è§‰å¾—`åˆ¤æ–­èŠ‚ç‚¹`ä¼šæ›´ç¨³å¦¥ä¸€ç‚¹ï¼Œè€Œä¸”ä¸ç”¨åšæ›´æ·±çš„å¤„ç†ï¼Œç›´åˆ°æˆ‘å†å†™ğŸ‘†ä¸Šé¢çš„æ–‡å­—æ—¶ï¼Œæœ‰é‚£ä¹ˆä¸€ç‚¹æƒ³æ³•

åœ¨æˆ‘ä»¬ä½¿ç”¨`è‡ªåº•å‘ä¸Š`çš„æ—¶å€™ï¼Œå› ä¸ºéœ€è¦ä»å­èŠ‚ç‚¹ä¸­ return å€¼ï¼Œè¿™ä¸ªæ—¶å€™å³ä¾¿æ˜¯ null ä¹Ÿæ˜¯`æœ‰ç”¨`çš„ï¼Œæ‰€ä»¥ä½¿ç”¨ `null` åŸºæœ¬æ˜¯ OK çš„ã€‚


ä¾‹å­: [104. äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦](https://leetcode-cn.com/problems/maximum-depth-of-binary-tree/solution/ceng-xu-bian-li-zi-ding-xiang-xia-de-dfs-hjvi/)
```javascript

/**
 * 1. è‡ªé¡¶å‘ä¸‹ï¼Œå¸¦ä¸ªå±‚æ•°å‚æ•°ï¼Œåˆ¤å®šä¸ºå¶å­èŠ‚ç‚¹å°±è¿›è¡Œæœ€å¤§å€¼åˆ¤æ–­
 */
var maxDepth = function (root) {
  if (!root) return 0;
  let ret = 0;
  const dfs = (root, depth) => {
    if (root.left) dfs(root.left, depth + 1);
    if (root.right) dfs(root.right, depth + 1);
    ret = Math.max(ret, depth);
    return;
  };
  dfs(root, 1);
  return ret;
};

// è‡ªä½å‘ä¸Š
var maxDepth = function (root) {
  const dfs = (root) => {
    if (!root) return 0;
    return Math.max(dfs(root.left), dfs(root.right))+1;
  };
  return dfs(root);
};

```

è€Œåœ¨ä¸€äº›æºå¸¦æ•°æ®ï¼Œ`è‡ªé¡¶å‘ä¸‹`æ±‚å€¼çš„é¢˜ç›®ä¸­ï¼Œå¦‚æœè·‘åˆ° `null` æ‰ç»“æŸéå†ï¼Œå°±æ¯”è¾ƒå®¹æ˜“å‡ºç°é‡å¤è®¡ç®—çš„é”™è¯¯ï¼Œè€Œä¸”ç”±äºä¸éœ€è¦è·å– return å€¼ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘å»ºè®®æ˜¯ä½¿ç”¨`åˆ¤æ–­èŠ‚ç‚¹`çš„æ–¹æ³•ã€‚

ä¾‹å­:[1022. ä»æ ¹åˆ°å¶çš„äºŒè¿›åˆ¶æ•°ä¹‹å’Œ](https://leetcode-cn.com/problems/sum-of-root-to-leaf-binary-numbers/solution/zi-ding-xiang-xia-qiu-zhi-by-jzsq_lyx-wsyc/)
```javascript

/**
 * @åˆ†æ
 * 1. è‡ªé¡¶å‘ä¸‹æ±‚å‡ºæ¯ä¸€æ¡è·¯å½“å‰å¯¹åº”çš„æ•°å­—ï¼Œä¿å­˜åœ¨å…¥å‚ä¸­
 * 2. åœ¨å¶å­èŠ‚ç‚¹å¤„å°†å€¼ç´¯åŠ èµ·æ¥å³å¯
 * 3. éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¦åœ¨å¶å­èŠ‚ç‚¹å°±å¤„ç†ï¼Œè€Œä¸æ˜¯åœ¨ null çš„æ—¶å€™å¤„ç†ï¼Œä¸ç„¶ä¼šé‡å¤è®¡ç®—
 */
 var sumRootToLeaf = function(root) {
    // if(!root) return 0 //é¢˜ç›®å·²çŸ¥èŠ‚ç‚¹æ˜¯ 1-1000
    let ret = 0
    const dfs = (root,sum) => {
        const temp = (sum<<1) + root.val
        if(!root.left && !root.right){
            ret +=temp
            return 
        }
        if(root.left) dfs(root.left,temp)
        if(root.right) dfs(root.right,temp)
    }

    dfs(root,0)
    return ret
};
```

## é¢˜ç›®æ±‡æ€»
### ç®€å•é¢˜
- [101. å¯¹ç§°äºŒå‰æ ‘](https://leetcode-cn.com/problems/symmetric-tree/solution/dfs-di-gui-by-jzsq_lyx-92hj/)
- [104. äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦](https://leetcode-cn.com/problems/maximum-depth-of-binary-tree/solution/ceng-xu-bian-li-zi-ding-xiang-xia-de-dfs-hjvi/)
- [226. ç¿»è½¬äºŒå‰æ ‘](https://leetcode-cn.com/problems/invert-binary-tree/solution/zi-di-xiang-shang-de-dfs-by-jzsq_lyx-gvrc/)
- [563. äºŒå‰æ ‘çš„å¡åº¦](https://leetcode-cn.com/problems/binary-tree-tilt/solution/zi-di-xiang-shang-by-jzsq_lyx-24re/)
- [1022. ä»æ ¹åˆ°å¶çš„äºŒè¿›åˆ¶æ•°ä¹‹å’Œ](https://leetcode-cn.com/problems/sum-of-root-to-leaf-binary-numbers/solution/zi-ding-xiang-xia-qiu-zhi-by-jzsq_lyx-wsyc/)
- [783. äºŒå‰æœç´¢æ ‘èŠ‚ç‚¹æœ€å°è·ç¦»](https://leetcode-cn.com/problems/minimum-distance-between-bst-nodes/solution/zhong-xu-bian-li-by-jzsq_lyx-kwrf/)

### ä¸­ç­‰é¢˜

- [662. äºŒå‰æ ‘æœ€å¤§å®½åº¦](https://leetcode-cn.com/problems/maximum-width-of-binary-tree/solution/wan-quan-er-cha-shu-ji-lu-jie-dian-xia-b-hcsg/)
- [971. ç¿»è½¬äºŒå‰æ ‘ä»¥åŒ¹é…å…ˆåºéå†](https://leetcode-cn.com/problems/flip-binary-tree-to-match-preorder-traversal/solution/qian-xu-bian-li-shu-de-fan-zhuan-by-jzsq-l485/)
- [863. äºŒå‰æ ‘ä¸­æ‰€æœ‰è·ç¦»ä¸º K çš„ç»“ç‚¹](https://leetcode-cn.com/problems/all-nodes-distance-k-in-binary-tree/solution/zi-ding-xiang-xia-she-zhi-zhi-zhen-zi-di-yrjb/)
- [é¢è¯•é¢˜ 04.06. åç»§è€…](https://leetcode-cn.com/problems/successor-lcci/solution/zhong-xu-bian-li-by-jzsq_lyx-ya15/)
- [98. éªŒè¯äºŒå‰æœç´¢æ ‘](https://leetcode-cn.com/problems/validate-binary-search-tree/solution/bst-te-xing-qiu-jie-by-jzsq_lyx-dzhi/)
- [99. æ¢å¤äºŒå‰æœç´¢æ ‘](https://leetcode-cn.com/problems/recover-binary-search-tree/solution/bao-li-by-jzsq_lyx-sjai/)
- [222. å®Œå…¨äºŒå‰æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°](https://leetcode-cn.com/problems/count-complete-tree-nodes/submissions/)
- [é¢è¯•é¢˜ 04.12. æ±‚å’Œè·¯å¾„](https://leetcode-cn.com/problems/paths-with-sum-lcci/solution/shuang-zhi-zhen-shuang-dfs-by-jzsq_lyx-4d6m/)
- [129. æ±‚æ ¹èŠ‚ç‚¹åˆ°å¶èŠ‚ç‚¹æ•°å­—ä¹‹å’Œ](https://leetcode-cn.com/problems/sum-root-to-leaf-numbers/solution/qian-xu-bian-li-by-jzsq_lyx-ui9b/)
- [1448. ç»Ÿè®¡äºŒå‰æ ‘ä¸­å¥½èŠ‚ç‚¹çš„æ•°ç›®](https://leetcode-cn.com/problems/count-good-nodes-in-binary-tree/solution/qian-xu-bian-li-by-jzsq_lyx-pwwn/)
- [814. äºŒå‰æ ‘å‰ªæ](https://leetcode-cn.com/problems/binary-tree-pruning/solution/zi-di-xiang-shang-di-gui-by-jzsq_lyx-yz0j/)
- [1325. åˆ é™¤ç»™å®šå€¼çš„å¶å­èŠ‚ç‚¹](https://leetcode-cn.com/problems/delete-leaves-with-a-given-value/solution/er-cha-shu-jian-zhi-by-jzsq_lyx-v8ez/)
- [1026.èŠ‚ç‚¹ä¸å…¶ç¥–å…ˆä¹‹é—´çš„æœ€å¤§å·®å€¼](https://leetcode-cn.com/problems/maximum-difference-between-node-and-ancestor/solution/zi-ding-xiang-xia-qiu-chai-zhi-by-jzsq_l-zcsm/)
- [865. å…·æœ‰æ‰€æœ‰æœ€æ·±èŠ‚ç‚¹çš„æœ€å°å­æ ‘](https://leetcode-cn.com/problems/smallest-subtree-with-all-the-deepest-nodes/solution/zi-ding-xiang-xia-he-zi-di-xiang-shang-b-y0nc/)
- [1530. å¥½å¶å­èŠ‚ç‚¹å¯¹çš„æ•°é‡](https://leetcode-cn.com/problems/number-of-good-leaf-nodes-pairs/solution/hou-xu-bian-li-by-jzsq_lyx-ds6a/)
- [894. æ‰€æœ‰å¯èƒ½çš„æ»¡äºŒå‰æ ‘](https://leetcode-cn.com/problems/all-possible-full-binary-trees/solution/bian-li-hou-xu-bian-li-by-jzsq_lyx-jimw/)
- [96. ä¸åŒçš„äºŒå‰æœç´¢æ ‘](https://leetcode-cn.com/problems/unique-binary-search-trees/solution/bao-li-jie-fa-dp-jian-zhi-by-jzsq_lyx-1e5w/)
- [437. è·¯å¾„æ€»å’Œ III](https://leetcode-cn.com/problems/path-sum-iii/solution/shuang-bian-li-by-jzsq_lyx-ht1i/)


### å›°éš¾é¢˜
- [987. äºŒå‰æ ‘çš„å‚åºéå†](https://leetcode-cn.com/problems/vertical-order-traversal-of-a-binary-tree/solution/mapbfs-by-jzsq_lyx-4jq1/)
- [2.å‰‘æŒ‡ Offer 37. åºåˆ—åŒ–äºŒå‰æ ‘](https://leetcode-cn.com/problems/xu-lie-hua-er-cha-shu-lcof/solution/shu-de-xu-lie-hua-by-jzsq_lyx-stqq/)
- [124. äºŒå‰æ ‘ä¸­çš„æœ€å¤§è·¯å¾„å’Œ](https://leetcode-cn.com/problems/binary-tree-maximum-path-sum/solution/er-cha-shu-de-zui-da-lu-jing-he-by-jzsq_-e1th/)
- [834. æ ‘ä¸­è·ç¦»ä¹‹å’Œ](https://leetcode-cn.com/problems/sum-of-distances-in-tree/solution/qian-xu-hou-xu-de-shi-yong-by-jzsq_lyx-kx2f/)

## ç®€å•é¢˜

### [101. å¯¹ç§°äºŒå‰æ ‘](https://leetcode-cn.com/problems/symmetric-tree/solution/dfs-di-gui-by-jzsq_lyx-92hj/)
åˆ†æ
1. å¯¹ç§°äºŒå‰æ ‘ï¼Œå…¶å®æ˜¯è¦æ±‚æ˜¯å¦é•œåƒå¯¹é½ï¼Œæ‰€ä»¥é€’å½’è¿‡ç¨‹è‡³å°‘éœ€è¦ä¸¤ä¸ªæ ¹èŠ‚ç‚¹ï¼Œç„¶å dfs ä¸»è¦å°±æ˜¯åˆ¤æ–­æ˜¯å¦æ˜¯å¯¹ç§°çš„ä¸¤æ£µæ ‘
2. è¿™é‡Œæ˜¯è‡ªé¡¶å‘ä¸‹åˆ†é…ç›¸äº’æ¯”è¾ƒçš„å­æ ‘èŠ‚ç‚¹ left å’Œ rightï¼Œç„¶åå†è‡ªåº•å‘ä¸Šçš„è¿”å›æœ€ç»ˆç»“æœ
3. åœ¨æŸä¸€æ¬¡ dfs ä¸­ï¼Œå¦‚æœæ¯”è¾ƒåŒæ–¹éƒ½æ˜¯ nullï¼Œé‚£ä¹ˆè¯æ˜æ¯”è¾ƒåŒæ–¹æ˜¯å¯¹ç§°çš„ï¼›å¦‚æœå‡ºç°åªæœ‰ä¸€æ–¹æœ‰å€¼ï¼Œæˆ–è€…åŒæ–¹æœ‰å€¼ä½†æ˜¯å€¼ä¸ä¸€æ ·çš„æ—¶å€™ï¼Œè¿”å› falseï¼›
4. æ¯æ¬¡é€’å½’éƒ½æ˜¯å·¦å³å¤–å±‚æ„æˆæ¯”è¾ƒï¼Œå·¦å³å†…å±‚æ„æˆæ¯”è¾ƒ
5. æ—¶é—´å¤æ‚åº¦: ${O(h)}$, å…¶ä¸­ h æ˜¯æ ‘çš„é«˜åº¦

```javascript
// 101. å¯¹ç§°äºŒå‰æ ‘
var isSymmetric = function (root) {
  if (!root) return false;
  const dfs = (left, right) => {
    if (!left && !right) return true;
    if (!left || !right || left.val !== right.val) return false;
    return dfs(left.left, right.right) && dfs(left.right, right.left);
  };
  return dfs(root.left, root.right);
};
```

### [104. äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦](https://leetcode-cn.com/problems/maximum-depth-of-binary-tree/solution/ceng-xu-bian-li-zi-ding-xiang-xia-de-dfs-hjvi/)

- ä½¿ç”¨æ ‘çš„ä¸‰ç§æœç´¢æ–¹å¼ï¼Œå±‚åºï¼Œè‡ªé¡¶å‘ä¸‹çš„ dfsï¼Œè‡ªåº•å‘ä¸Šçš„é€’å½’ dfs

#### å±‚åºéå†

1. æ— è®ºæ˜¯æ·±åº¦ï¼Œå±‚æ•°ç­‰ï¼Œç›´æ¥ç”¨å±‚åºéå†æ‰¾åˆ°æœ€åä¸€å±‚çš„æœ€åä¸€ä¸ªå¶å­èŠ‚ç‚¹å³å¯
2. æ—¶é—´å¤æ‚åº¦ ${O(N)}$, ç©ºé—´å¤æ‚åº¦ ${O(K)}$ -- K æ˜¯æœ€å¤§å®½åº¦

```javascript
// 104. äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦

/**
 * 1.æ— è®ºæ˜¯æ·±åº¦ï¼Œå±‚æ•°ç­‰ï¼Œç›´æ¥ç”¨å±‚åºéå†æ‰¾åˆ°æœ€åä¸€å±‚çš„æœ€åä¸€ä¸ªå¶å­èŠ‚ç‚¹å³å¯
 */

var maxDepth = function (root) {
  if (!root) return 0;
  let ret = 0;
  const queue = [];
  queue.push(root);
  while (queue.length) {
    ret++; // è¿›å…¥ä¸€å±‚
    let len = queue.length;
    while (len--) {
      // å±‚åºéå†
      const root = queue.shift();
      if (root.left) queue.push(root.left);
      if (root.right) queue.push(root.right);
    }
  }
  return ret;
};
```

#### dfs -- è‡ªé¡¶å‘ä¸‹

1. æˆ‘ä»¬åœ¨è®¡ç®—å±‚æ•°çš„æ—¶å€™ï¼Œå¯ä»¥è€ƒè™‘åˆ°ï¼Œæ²¡éå†ä¸€å±‚ï¼Œå°±æºå¸¦ä¸€ä¸ªå‚æ•°ï¼Œè¿™ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªæ ‡è®°ï¼Œæ¯”æ–¹è¿™é‡Œå°±æ˜¯æ·±åº¦ depth
2. è¿™æ ·å½“æˆ‘ä»¬éå†åˆ°å¶å­èŠ‚ç‚¹çš„æ—¶å€™ï¼Œéƒ½å¯ä»¥å’Œæœ€å¤§å€¼æ¯”å¯¹ä¸€ä¸‹ï¼Œç„¶åç»“æŸè¿™ä¸€æ¡è·¯çº¿
3. æ—¶é—´å¤æ‚åº¦ ${O(N)}$, ç©ºé—´å¤æ‚åº¦ ${O(D)}$ -- D æ˜¯æ·±åº¦

```javascript
/**
 * 1. è‡ªé¡¶å‘ä¸Šï¼Œå¸¦ä¸ªå±‚æ•°å‚æ•°ï¼Œåˆ¤å®šä¸ºå¶å­èŠ‚ç‚¹å°±è¿›è¡Œæœ€å¤§å€¼åˆ¤æ–­
 */
var maxDepth = function (root) {
  if (!root) return 0;
  let ret = 0;
  const dfs = (root, depth) => {
    if (root.left) dfs(root.left, depth + 1);
    if (root.right) dfs(root.right, depth + 1);
    // èµ°åˆ°è¿™çš„æ—¶å€™ï¼Œè¯æ˜æ˜¯å¶å­èŠ‚ç‚¹äº†ï¼Œæ‰€ä»¥å–æœ€å¤§å€¼ï¼Œå°±ç»“æŸè¿™ä¸€æ¬¡çš„
    ret = Math.max(ret, depth);
  };
  dfs(root, 1);
  return ret;
};
```

#### é€’å½’ -- è‡ªä½å‘ä¸Š

- æ—¢ç„¶æœ‰è‡ªé¡¶å‘ä¸‹ï¼Œé‚£ä¹ˆå½“ç„¶å°±æœ‰è‡ªä½å‘ä¸Šäº†ï¼›
- å°±æˆ‘æµ…è–„çš„ç®—æ³•èƒ½åŠ›è€Œå·²ï¼Œè‡ªé¡¶å‘ä¸‹å°±æ˜¯å¸¦å‚æ•°çš„æ·±åº¦ä¼˜å…ˆéå† DFS, è€Œè‡ªä½å‘ä¸Šï¼Œæ˜¯é€’å½’ï¼Œéœ€è¦ dfs åˆ°äº†åº•éƒ¨ï¼Œç„¶åå½’åˆ°æ ¹èŠ‚ç‚¹ï¼Œæ‰€ä»¥è¿™é‡Œç”¨çš„æ˜¯ recursion ä½œä¸ºæ–¹æ³•åã€‚
- è‡ªé¡¶å‘ä¸‹æ˜¯ä»æ ¹èŠ‚ç‚¹å¼€å§‹ç®—ä¸€å±‚æ·±åº¦ï¼Œç„¶åè·‘åˆ°å¶å­èŠ‚ç‚¹ç»“æŸï¼›è‡ªä½å‘ä¸Šåè¿‡æ¥ï¼Œè·‘åˆ°æœ€åº•å±‚ï¼Œç„¶åä¸æ–­æ±‚å¶å­ç»“ç‚¹çš„æœ€å¤§æ·±åº¦ï¼Œç„¶åŠ ä¸Šè‡ªèº«è¿”å›åˆ°ä¸Šå±‚
- æ—¶é—´å¤æ‚åº¦ ${O(N)}$, ç©ºé—´å¤æ‚åº¦ ${O(1)}$

```javascript
// è‡ªä½å‘ä¸Š
var maxDepth = function (root) {
  const recursion = (root) => {
    // åªæ˜¯åˆ°äº†åº•éƒ¨ï¼Œæ‰€ä»¥é«˜åº¦ä¸º 0
    if (!root) return 0;
    // æ¯ä¸€ä¸ªèŠ‚ç‚¹çš„é«˜åº¦æ˜¯å¤šå°‘ï¼Œå°±æ˜¯ä¸¤ä¸ªèŠ‚ç‚¹æ ‘çš„æœ€å¤§é«˜åº¦+è‡ªå·±æ‰€å¤„çš„è¿™ä¸€å±‚1
    return Math.max(recursion(root.left), recursion(root.right)) + 1;
  };
  return recursion(root);
};
```

### [226. ç¿»è½¬äºŒå‰æ ‘](https://leetcode-cn.com/problems/invert-binary-tree/solution/zi-di-xiang-shang-de-dfs-by-jzsq_lyx-gvrc/)

åˆ†æ -- è‡ªåº•å‘ä¸Š

- å› ä¸ºè¦æ±‚çš„æ˜¯åè½¬äºŒå‰æ ‘ï¼Œå¯¹äºä»»æ„ä¸€é¢—å­æ ‘ï¼Œå…¶å®éƒ½æ˜¯è¦åšä¸€æ ·çš„æ“ä½œï¼Œæ‰€ä»¥å¯ä»¥å…ˆé€’åˆ°å¶å­èŠ‚ç‚¹ï¼Œç„¶åå¼€å§‹è¿›è¡Œç¿»è½¬
- è‡ªåº•å‘ä¸Šå°†ç¿»è½¬å¥½çš„å­æ ‘ä¼ é€’åˆ°ä¸Šå±‚çš„èŠ‚ç‚¹ï¼Œç›´åˆ°æœ€åçš„æ ¹èŠ‚ç‚¹ï¼Œå¾—åˆ°äº†ä¸¤è¯¾ç¿»è½¬å¥½çš„æ ‘ï¼Œç„¶åäº¤æ¢ä¸€ä¸‹ä¸€ä¸‹ä½ç½®å°±å¥½äº†
- æ—¶é—´å¤æ‚åº¦ ${O(N)}$

```javascript
// 226. ç¿»è½¬äºŒå‰æ ‘
var invertTree = function (root) {
  const dfs = (root) => {
    // åˆ°è¾¾äº†æœ€åº•éƒ¨ï¼Œç›´æ¥è¿”å› null
    if (!root) return null;
    // 1.é€’å½’è·å–ç¿»è½¬åçš„å·¦å³å­æ ‘
    const left = dfs(root.left);
    const right = dfs(root.right);
    // 2.åè½¬ä¸¤æ£µæ ‘çš„ä½ç½®
    root.left = right;
    root.right = left;
    // æœ€åè¿”å›è¿™ä¸ªåè½¬ä¹‹åçš„æ ‘
    return root;
  };
  return dfs(root);
};
```

### [563. äºŒå‰æ ‘çš„å¡åº¦](https://leetcode-cn.com/problems/binary-tree-tilt/solution/zi-di-xiang-shang-by-jzsq_lyx-24re/)

åˆ†æ

1. è‡ªåº•å‘ä¸Šè¿”å›å­æ ‘å€¼ä¹‹å’Œï¼Œç„¶åæ±‚å‡ºå¯¹åº”çš„å¡åº¦ï¼Œç´¯åŠ èµ·æ¥å³å¯.
2. éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå·¦å³å­æ ‘çš„ç´¯åŠ å€¼å¤§å°ä¸ç¡®å®šï¼Œéœ€è¦ç”¨ç»å¯¹å€¼
3. æ—¶é—´å¤æ‚åº¦ ${O(N)}$

```javascript
var findTilt = function (root) {
  let ret = 0;
  const recursion = (root) => {
    if (!root) return 0;
    const left = recursion(root.left);
    const right = recursion(root.right);
    ret += Math.abs(left - right);
    return left + right + root.val;
  };
  recursion(root);
  return ret;
};
```

### [1022. ä»æ ¹åˆ°å¶çš„äºŒè¿›åˆ¶æ•°ä¹‹å’Œ](https://leetcode-cn.com/problems/sum-of-root-to-leaf-binary-numbers/solution/zi-ding-xiang-xia-qiu-zhi-by-jzsq_lyx-wsyc/)

åˆ†æ
1. è‡ªé¡¶å‘ä¸‹æ±‚å‡ºæ¯ä¸€æ¡è·¯å½“å‰å¯¹åº”çš„æ•°å­—ï¼Œä¿å­˜åœ¨å…¥å‚ä¸­
2. åœ¨å¶å­èŠ‚ç‚¹å¤„å°†å€¼ç´¯åŠ èµ·æ¥å³å¯
3. éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¦åœ¨å¶å­èŠ‚ç‚¹å°±å¤„ç†ï¼Œè€Œä¸æ˜¯åœ¨ null çš„æ—¶å€™å¤„ç†ï¼Œä¸ç„¶ä¼šé‡å¤è®¡ç®—

```javascript
var sumRootToLeaf = function(root) {
    // if(!root) return 0 //é¢˜ç›®å·²çŸ¥èŠ‚ç‚¹æ˜¯ 1-1000
    let ret = 0
    const dfs = (root,sum) => {
        const temp = (sum<<1) + root.val
        if(!root.left && !root.right){
            ret +=temp
            return 
        }
        if(root.left) dfs(root.left,temp)
        if(root.right) dfs(root.right,temp)
    }

    dfs(root,0)
    return ret

};
```

### [783. äºŒå‰æœç´¢æ ‘èŠ‚ç‚¹æœ€å°è·ç¦»](https://leetcode-cn.com/problems/minimum-distance-between-bst-nodes/solution/zhong-xu-bian-li-by-jzsq_lyx-kwrf/)

åˆ†æ
1. è¿™æ˜¯ä¸€è¯¾äºŒå‰æœç´¢æ ‘ BST , ç›´æ¥æ‹è„‘è¢‹æƒ³ç”¨ä¸­åºéå†ï¼Œå¾—åˆ°çš„å€¼æ˜¯å•å¢çš„
2. ä½¿ç”¨ä¸€ä¸ªå˜é‡ä¿å­˜ BST ä¸­åºéå†è¿‡ç¨‹ä¸­çš„ç¬¬ä¸€ä¸ªå€¼ï¼›ä½¿ç”¨ä¸€ä¸ªå…¨å±€å˜é‡ä¿å­˜æœ€å°çš„å·®å€¼
3. æ—¶é—´å¤æ‚åº¦${O(N)}$

```javascript
var minDiffInBST = function(root) {
    let ret = Infinity
    let prev = undefined // ä¿å­˜ä¸Šä¸€ä¸ªå€¼
    const dfs = (root) => {
        if(!root) return
       dfs(root.left)
        //  åœ¨è¿™é‡Œå¤„ç†
        if(prev === undefined){
            // ç¬¬ä¸€ä¸ªå€¼ï¼Œç”±äºå·®å€¼éœ€è¦ä¸¤ä¸ªå€¼ï¼Œæ‰€ä»¥è¿™ç›¸å½“äºåˆå§‹åŒ–äº†
            prev = root.val
        }else{
            ret = Math.min(ret,root.val-prev)
            prev = root.val
        }
        dfs(root.right)
    }
    dfs(root)
    return ret
};
```

## ä¸­ç­‰é¢˜

### [662. äºŒå‰æ ‘æœ€å¤§å®½åº¦](https://leetcode-cn.com/problems/maximum-width-of-binary-tree/solution/wan-quan-er-cha-shu-ji-lu-jie-dian-xia-b-hcsg/)

åˆ†æ -- åŸºäºå®Œå…¨äºŒå‰æ ‘çš„ç‰¹æ€§
1. æ±‚å®½åº¦ï¼Œç›²çŒœç”¨å±‚åºéå†æ¯”è¾ƒåˆé€‚ï¼Œä½†æ˜¯å•¥æ—¶å€™åŠ  null æ˜¯ä¸ªä½“é¢æ´»
2. è¿™é‡Œæœ‰ä¸€ä¸ªé™éš¾åº¦çš„ç‚¹ -- è¯¥å±‚æœ€å·¦å’Œæœ€å³çš„éç©ºèŠ‚ç‚¹ï¼Œä¸¤ç«¯ç‚¹é—´çš„nullèŠ‚ç‚¹ä¹Ÿè®¡å…¥é•¿åº¦ -- ä¹Ÿå°±æ˜¯åœ¨éå†å­˜åœ¨èŠ‚ç‚¹çš„ä¸€å±‚æ—¶ï¼Œç¬¬ä¸€ä¸ªèŠ‚ç‚¹è‚¯å®šæ˜¯å­˜åœ¨ï¼Œæœ€åä¸€ä¸ªèŠ‚ç‚¹ä¹Ÿæ˜¯
3. è™½ç„¶å·¦ä¾§èŠ‚ç‚¹ç¡®å®šäº†ï¼Œä½†æ˜¯å³ä¾§èŠ‚ç‚¹å¤§å°ä¸ç¡®å®šå•Šï¼Œä¸­é—´å­˜åœ¨æœ‰å¤šå°‘ä¸ª nullï¼Œåé¢æ˜¯å¦å­˜åœ¨ä¸€ä¸ªèŠ‚ç‚¹éš”å¼€äº†nä¸ª nulléƒ½ä¸ç¡®å®šï¼Œè¿™ä¸ªæ—¶å€™å¯ä»¥è€ƒè™‘æŠŠæ ‘å½“æˆæ˜¯å®Œå…¨äºŒå‰æ ‘ï¼Œç„¶åæ‰€æœ‰çš„èŠ‚ç‚¹å†å¸¦ä¸€ä¸ª pos å±æ€§
4. æˆ‘ä»¬ä»¥ 1 ä½œä¸ºæ ¹èŠ‚ç‚¹ root çš„ posï¼Œå·¦èŠ‚ç‚¹å°±æ˜¯ 2n, å³èŠ‚ç‚¹æ˜¯ 2n+1
5. æ³¨æ„ï¼Œç”±äºèŠ‚ç‚¹ pos çš„å€¼æ˜¯å‘ˆç°æŒ‡æ•°çº§åˆ«ä¸Šå‡çš„ï¼Œå³ 2^k, å…¶ä¸­ k æ˜¯æ ‘çš„æ·±åº¦ï¼Œæˆ‘ä»¬åˆçŸ¥é“å½“ 2^53 ä¹‹åï¼Œç²¾åº¦ä¼šä¸¢å¤±ï¼Œ
6. æ‰€ä»¥å‘çˆ¹çš„å°±æ˜¯ï¼Œè¾“å…¥å¯ä»¥æ˜¯å…ˆå³æ ‘èµ°1ä¸ªèŠ‚ç‚¹53æ¬¡ï¼Œç„¶åç¬¬ 54å±‚å¼€å§‹æ¥çœŸå®å€¼ï¼Œé…±ç´«å‰é¢ 53 å±‚çš„å®½åº¦éƒ½æ˜¯1ï¼Œä» 54 å±‚å¼€å§‹éœ€è¦å¼€å§‹è®¡ç®—ï¼Œä½†æ˜¯è¿™ä¸ªæ—¶å€™ï¼Œpos å·²ç»è¶…å‡º JS çš„ Number ç±»å‹çš„è®¡ç®—æé™äº†
6. è¿™ä¸ªæ—¶å€™æˆ‘ä»¬è€ƒè™‘ä½¿ç”¨ js çš„æ–°çš„åŸºæœ¬ç±»å‹ BigInt ä½œä¸ºèŠ‚ç‚¹ pos çš„å€¼ï¼Œä½†æ˜¯åˆç”±äºæ•°å­—ç±»å‹å’Œå¤§æ•°ç±»å‹ä¹‹é—´æ˜¯ä¸èƒ½è¿›è¡Œè¿ç®—çš„ï¼Œæ‰€ä»¥æœ€åæ±‚å€¼çš„æ—¶å€™ï¼Œè¦è¿›è¡Œå“ç›¸åº”çš„è½¬æ¢ã€‚

```javascript
// 662. äºŒå‰æ ‘æœ€å¤§å®½åº¦
var widthOfBinaryTree = function (root) {
  const queue = [];
  queue.push([root, 1n]);
  let max = 0;
  let steps = 0,
    curDepth = 0; // è¿™æ˜¯ç”¨æ¥ç¡®å®šç¬¬ä¸€ä¸ªèŠ‚ç‚¹çš„
  let leftPos = 0n; // æ¯ä¸€æ¬¡å·¦ä¾§èŠ‚ç‚¹çš„ä½ç½®
  while (queue.length) {
    // å±‚æ•°+1
    steps++;
    // å¦‚æœè¿˜æœ‰å±‚
    let len = queue.length;
    while (len--) {
      // å¼€å§‹ä¸€å±‚çš„éå†äº†
      const [root, pos] = queue.shift(); // å–å‡ºèŠ‚ç‚¹
      if (root) {
        // åªè¦æœ‰å­èŠ‚ç‚¹ï¼Œé‚£ä¹ˆå³ä¾¿æœ‰ä¸€ä¸ªä¸å­˜åœ¨ï¼Œä¹Ÿå¾—æ”¾åˆ°é˜Ÿåˆ—ä¸­
        queue.push([root.left, 2n * pos]);
        queue.push([root.right, 2n * pos + 1n]);

        if (curDepth !== steps) {
          // ç¬¬ä¸€ä¸ªèŠ‚ç‚¹
          curDepth = steps; // è¿™ä¸ªæ—¶å€™æ›´æ–°ä¸€ä¸‹æ·±åº¦
          leftPos = pos; // å·¦ä¾§èŠ‚ç‚¹çš„ä½ç½®
        }
        // æ¯ä¸€ä¸ªå­˜åœ¨çš„èŠ‚ç‚¹ï¼Œéƒ½ä¼šä¸æ–­è¿›è¡Œæ›´æ–°
        // ç”±äº bigInt å’Œ number æ˜¯ä¸èƒ½è¿›è¡Œæ•°å­¦è¿ç®—çš„ï¼Œæ‰€ä»¥å…ˆå°† bigint è½¬æˆå­—ç¬¦ä¸²ç±»å‹ï¼Œç„¶åéšå¼è½¬æˆæ•°å­—ï¼Œç„¶åè¿›è¡Œæ¯”è¾ƒ
        max = Math.max(max, (pos - leftPos + 1n).toString());
      }
    }
  }

  return max;
};

```

### [971. ç¿»è½¬äºŒå‰æ ‘ä»¥åŒ¹é…å…ˆåºéå†](https://leetcode-cn.com/problems/flip-binary-tree-to-match-preorder-traversal/solution/qian-xu-bian-li-shu-de-fan-zhuan-by-jzsq-l485/)
åˆ†æ:
1. æˆ‘è§‰å¾—æœ¬é¢˜æœ€å¤§çš„éš¾ç‚¹æ˜¯è¯»é¢˜ï¼Œç†è§£é¢˜æ„ï¼Œé¦–å…ˆå¯¹äºæ ‘çš„ç¿»è½¬æ¦‚å¿µï¼Œå¯ä»¥å…ˆå»ä¸€é“ç®€å•é¢˜ [226. ç¿»è½¬äºŒå‰æ ‘](https://leetcode-cn.com/problems/invert-binary-tree/solution/zi-di-xiang-shang-de-dfs-by-jzsq_lyx-gvrc/) äº†è§£ä¸€ä¸‹ã€‚
2. è¿™é‡Œçš„ç¿»è½¬æ¶‰åŠåˆ°çš„æ˜¯æ ¹èŠ‚ç‚¹æ˜¯å¦è¦ç¿»è½¬å·¦å³æ ‘ï¼Œæ‰€ä»¥åœ¨éå†è¿‡ç¨‹ä¸­ï¼Œè‚¯å®šæ˜¯ä»¥æ ¹èŠ‚ç‚¹ä½œä¸ºå…¥å‚ï¼Œç„¶åè¿›è¡Œä¸€ç³»åˆ—é€»è¾‘çš„ï¼Œæ¯•ç«Ÿå¦‚æœéœ€è¦ç¿»è½¬çš„æ—¶å€™ï¼Œret è¦å­˜çš„æ˜¯æ ¹èŠ‚ç‚¹
3. è¿™é‡Œç»™å‡ºäº†ä¸€ä¸ªå¾…æ“ä½œçš„æ ‘ A çš„æ ¹èŠ‚ç‚¹ rootï¼Œ å’Œæ ‘ V å…ˆåºéå†çš„æ•°ç»„ï¼Œç„¶åæ±‚çš„æ˜¯ A èƒ½å¦ç¿»è½¬æœ€å°‘çš„ n ä¸ªèŠ‚ç‚¹ï¼Œä½¿å¾— A å’Œ V ä¸€è‡´ã€‚OKï¼Œç°åœ¨å…¶å®å°±æ˜¯å¼€å§‹å‰åºéå†æ ‘ Vï¼Œç„¶åç”¨ V çš„å€¼å»åŒ¹é… Aï¼Œ çœ‹çœ‹èƒ½å¦è¿›è¡Œæ ‘çš„åŒ¹é…
4. å¯¹äºä¸€æ¬¡éå†ï¼Œæˆ‘ä»¬é¦–å…ˆåˆ¤æ–­æ ¹èŠ‚ç‚¹çš„å€¼æ˜¯ä¸€è‡´ï¼Œæ‰ä¼šè¿›å…¥è¿™ä¸€æ¬¡çš„éå†ä¸­ï¼Œç„¶åä¸»è¦æ˜¯çœ‹å·¦å³æ ‘ï¼Œå¯¹äºæ ‘ V æ¥è¯´ï¼Œç”¨ pos ä¸æ–­æŒ‰ç…§å…ˆåºéå†ç»™å‡ºå€¼ï¼Œè€Œå¯¹äº V æ¥è¯´ï¼Œä½ å¯ä»¥ç”¨å·¦æ ‘åŒ¹é…ï¼Œå¦‚æœåŒ¹é…æˆåŠŸï¼Œåˆ™å•¥äº‹æ²¡æœ‰ï¼Œå¤§å®¶æ˜¯ä¸€æ ·çš„ï¼›è€Œå¦‚æœå·¦æ ‘ä¸åŒ¹é…ï¼Œç”¨å³æ ‘å…ˆè¡Œï¼Œç„¶åå†èµ°å·¦æ ‘ï¼Œè¿™ç§æƒ…å†µå°±éœ€è¦ç¿»è½¬ä¸€ä¸‹å½“å‰çš„èŠ‚ç‚¹ï¼Œä¿è¯æ ‘ A è¦åœ¨å‰åºéå†çš„æƒ…å†µå’Œ V åŒ¹é…ï¼›
5. å¦‚æœåœ¨åŒ¹é…è¿‡ç¨‹ä¸­ A çš„å·¦å³æ ‘éƒ½æ²¡æœ‰åŒ¹é…æˆåŠŸï¼Œåˆ™ä¼šæå–èµ°å‡º A çš„éå†ï¼Œè¿™ä¸ªæ—¶å€™ pos å°±æ²¡æœ‰è¿­ä»£å®Œï¼Œè¿™ä¸ªæ—¶å€™å°±æ˜¯å¼‚å¸¸ï¼Œè¿”å› [-1]
6. æ—¶é—´å¤æ‚åº¦ ${O(N)}$
```javascript
 var flipMatchVoyage = function(root, voyage) {
    if(root.val !== voyage[0]) return [-1] // ç”¨æ¥åœ¨è¿›å…¥ dfs å‰å¯¹æ ¹èŠ‚ç‚¹çš„åˆ¤æ–­
    const ret = [] 
    let pos = 0 // è¿™æ˜¯ç”¨æ¥è·å– voyage å€¼ï¼Œä¹Ÿæ˜¯éå†æ ‘ V çš„ï¼Œå¦‚æœæ²¡æœ‰èµ°å®Œï¼Œè¯æ˜æ— æ³•åŒ¹é… root
    const dfs = root => {
        // æ¯ä¸€æ¬¡çš„éå† pos éƒ½è¦è·Ÿéšç€
        pos++ 
        // å¯¹äºæ¯ä¸€ä¸ªèŠ‚ç‚¹ï¼Œéƒ½æ˜¯æŒ‰ç…§å…ˆåºéå†çš„å†™æ³•
        if(root.left && root.left.val === voyage[pos] ){
            // å¦‚æœåœ¨è¿™èŠ‚ç‚¹å·¦æ ‘é€‚é…ï¼Œé‚£å°±ç»§ç»­èµ°ï¼Œå› ä¸ºè¿™æ˜¯å…ˆåºéå†
            dfs(root.left)
        }
        if(root.right && root.right.val === voyage[pos] ){
            dfs(root.right)
            // å³æ ‘å®Œæˆä¹‹åï¼Œéœ€è¦çœ‹çœ‹ç°åœ¨ pos æ‰€åœ¨çš„å€¼æ˜¯å¦å¯ä»¥åŒ¹é…å·¦æ ‘ï¼Œå³æ˜¯å¦å…ˆèµ°å³æ ‘å†èµ°å·¦æ ‘ï¼Œæˆç«‹å³å½“å‰çš„ root èŠ‚ç‚¹å°±æ˜¯éœ€è¦è¿›è¡Œç¿»è½¬çš„èŠ‚ç‚¹
            if(root.left && root.left.val === voyage[pos] ){
                ret.push(root.val)
                dfs(root.left)
            }
        }
    }

    dfs(root)
    if(pos<voyage.length){
        // voyage è¿˜æ²¡æœ‰èµ°å®Œï¼Œå°±è¢«é™åˆ¶æ¡ä»¶å¡ä½äº†
        return [-1]
    }
    
    return ret
};
```

### [863. äºŒå‰æ ‘ä¸­æ‰€æœ‰è·ç¦»ä¸º K çš„ç»“ç‚¹](https://leetcode-cn.com/problems/all-nodes-distance-k-in-binary-tree/solution/zi-ding-xiang-xia-she-zhi-zhi-zhen-zi-di-yrjb/)

åˆ†æ
1. ç®€å•åˆ†è§£ä¸€ä¸‹ï¼Œå¦‚æœé¢˜ç›®æ”¹æˆ `æ‰¾åˆ°è·ç¦»æ ¹èŠ‚ç‚¹ K çš„èŠ‚ç‚¹` ï¼Œæ˜¯ä¸æ˜¯ä¸€ä¸‹å°±å¯ä»¥æ‰¾åˆ°ï¼Œä»æ ¹èŠ‚ç‚¹å‡ºå‘ï¼Œèµ° K æ­¥å°±å¥½äº†
2. åœ¨ç¨å¾®å»¶ä¼¸ä¸€ä¸‹ï¼Œ`æ‰¾å‡ºè·ç¦»èŠ‚ç‚¹ target K çš„å­èŠ‚ç‚¹`ï¼Œé‚£ä¹ˆä¹Ÿä¸€æ ·ï¼Œå°±æ˜¯åªèƒ½ä»å­èŠ‚ç‚¹ä¸­å»æ‰¾ï¼Œè¿™é“é¢˜ä¹‹æ‰€ä»¥èƒ½æˆä¸º mediumï¼Œå°±æ˜¯å› ä¸ºå®ƒçš„ target ä¸ä¸€å®šæ˜¯æ ¹èŠ‚ç‚¹ï¼ŒåŒæ—¶å®ƒå¯ä»¥å¾€ä¸Šå»æ‰¾ï¼›
3. å¯¹äºç®€å•çš„äºŒå‰æ ‘ï¼Œæ˜¯æ²¡æ³•å­æ ¹æ®å­èŠ‚ç‚¹æ‰¾æ‰“å®ƒçš„çˆ¶èŠ‚ç‚¹çš„ï¼Œå°±å¥½åƒå•å‘é“¾è¡¨æ— æ³•æ ¹æ® current èŠ‚ç‚¹æ‰¾åˆ°ä¸Šä¸€ä¸ªèŠ‚ç‚¹ prev ä¸€æ ·ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥è‡ªå·±é€ ä¸€ä¸ªï¼Œæƒ³æƒ³ç»å…¸çš„ diff ç®—æ³•ï¼Œå¾ˆå¤šæ—¶å€™æˆ‘ä»¬åœ¨ç”¨æ ‘çš„æ—¶å€™ï¼Œéƒ½éœ€è¦ç›´æ¥æ‰¾åˆ°çˆ¶èŠ‚ç‚¹çš„ï¼Œæ‰€ä»¥è¿™é‡Œç¬¬ä¸€æ­¥å°±æ˜¯ä¸º root åˆ° target èŠ‚ç‚¹é€ æŒ‡é’ˆ parent
4. åœ¨æ­£å¼å¼€å§‹å¯»æ‰¾çš„æ—¶å€™ï¼Œéœ€è¦æ³¨æ„çš„æ—¶å€™ï¼Œå½“æˆ‘ä»¬ä»åº•å¾€ä¸Šæ‰¾çˆ¶èŠ‚ç‚¹ä½œä¸ºæ ¹èŠ‚ç‚¹ï¼Œç„¶åå†è‡ªé¡¶å‘ä¸‹æ‰¾å­èŠ‚ç‚¹çš„è¿‡ç¨‹ï¼Œä¼šæœ‰é‡å¤å–å€¼çš„å±é™©ï¼Œæ‰€ä»¥éœ€è¦æœ‰ä¸€ä¸ªå˜é‡å­˜å‚¨å‘ä¸Šå–çˆ¶èŠ‚ç‚¹æ—¶çš„èŠ‚ç‚¹ï¼Œç„¶åå†æ¯ä¸€æ¬¡æƒ³ä¸‹æ‰¾å€¼çš„æ—¶å€™ï¼Œé¿å¼€è¿™äº›èŠ‚ç‚¹

```javascript
var distanceK = function (root, target, k) {
  let targetNode = undefined;
  // ç¬¬ä¸€ä¸ª dfs ï¼Œæ˜¯ä¸ºäº†åœ¨ æ ¹èŠ‚ç‚¹ -> target ä¹‹é—´çš„çš„èŠ‚ç‚¹æ‰“ä¸Š parent çš„æŒ‡é’ˆï¼Œæ–¹ä¾¿ä»ä¸‹å¾€ä¸Šæ‰¾
  const setDfs = (root) => {
    if (root === target) {
      // æ‰¾åˆ°äº†, å°±è®©å‰©ä¸‹çš„æœç´¢åœæ­¢
      targetNode = root;
    }
    if (root.left && !targetNode) {
      root.left.parent = root;
      setDfs(root.left);
    }
    if (root.right && !targetNode) {
      root.right.parent = root;
      setDfs(root.right);
    }
  };
  setDfs(root);

  const ret = [];
  const paths = []; // å‘ä¸Šå–çˆ¶èŠ‚ç‚¹æ—¶ï¼Œèµ°è¿‡èŠ‚ç‚¹

  // ä»ä¸Šå¾€ä¸‹å»æ‰¾, å…¶ä¸­ index è¡¨ç¤ºè·ç¦» target çš„è·ç¦»
  const find = (root, index) => {
    if (index === k) {
      ret.push(root.val);
    }
    if (index < k) {
      if (root.left && !paths[root.left.val]) find(root.left, index + 1);
      if (root.right && !paths[root.right.val]) find(root.right, index + 1);
    }
  };

  let index = 0;
  while (targetNode && index <= k) {
    // è®°å½•å‘ä¸Šå–çš„çˆ¶èŠ‚ç‚¹
    paths[targetNode.val] = targetNode.val;
    // ä»æ ¹èŠ‚ç‚¹å‘ä¸‹æ±‚å–åˆé€‚çš„å€¼
    find(targetNode, index);
    targetNode = targetNode.parent;
    // æ¯ç½‘ä¸Šä¸€æ¬¡ï¼Œå°±è¦å°†èŠ‚ç‚¹èµ°ä¸€æ¬¡
    index++;
  }

  return ret;
};

```


### [é¢è¯•é¢˜ 04.06. åç»§è€…](https://leetcode-cn.com/problems/successor-lcci/solution/zhong-xu-bian-li-by-jzsq_lyx-ya15/)

åˆ†æ
 1. æ ¹æ®ä¸­åºéå†ï¼Œå°†æ‰€æœ‰çš„èŠ‚ç‚¹éƒ½ä¿å­˜åˆ°æ•°ç»„ä¸­ï¼Œç„¶åæ‰¾åˆ° P çš„æ—¶å€™ï¼Œä¿å­˜ä¸‹ä¸€ä¸ªå€¼çš„ä¸‹æ ‡ï¼Œç„¶åéå†ç»“æŸåï¼Œä»æ•°ç»„ä¸­å–å³å¯
 2. æ—¶é—´å’Œç©ºé—´å¤æ‚åº¦éƒ½æ˜¯ ${O(N)}$

```javascript
 var inorderSuccessor = function(root, p) {
    if(!root) return null
    let arr = []
    let ret = 0
    const dfs = (root) => {
        if(!root) return 
        dfs(root.left)
        arr.push(root)
        if(root === p) {
            ret = arr.length
        }
        dfs(root.right)

    }
     dfs(root)
     return arr[ret] || null 
};
```

### [98. éªŒè¯äºŒå‰æœç´¢æ ‘](https://leetcode-cn.com/problems/validate-binary-search-tree/solution/bst-te-xing-qiu-jie-by-jzsq_lyx-dzhi/)
åˆ†æ
1. äºŒå‰æœç´¢æ ‘çš„ç‰¹å¾: æ ¹èŠ‚ç‚¹å¤§äºå·¦èŠ‚ç‚¹ï¼Œå°äºå³èŠ‚ç‚¹
2. å‰åºéå†è¿‡ç¨‹ä¸­ï¼Œæ˜¯å•å¢çš„è¿‡ç¨‹ï¼›
3. æˆ‘ä»¬ä¸éœ€è¦ç»´æŠ¤ä¸€ä¸ªæ•°ç»„ï¼Œåªéœ€è¦ç»´æŠ¤ä¸Šä¸€ä¸ªå€¼åšå¤§å°åˆ¤æ–­å°±å¥½
4. æ‰€ä»¥å‰åºéå†è¿‡ç¨‹ä¸­ï¼Œç„¶åå’Œä¸€ä¸ªå…¨å±€éå†è¿›è¡Œå¤§å°æ¯”è¾ƒå³å¯ï¼›

```javascript
 var isValidBST = function(root) {
    if(!root) return false
    let pre = -Infinity //æœ€å°å€¼
    let ret = true // é»˜è®¤å°±æ˜¯
    const inorder  = (root) => {
     
        if(root.left && ret) inorder(root.left)
           if(root.val<=pre) {
            ret = false // ä¸€æ—¦æœ‰ä¸€ç»„å¤±è´¥ï¼Œéƒ½ä¸æ˜¯ BST
            return
        }else {
            pre = root.val
        }
        if(root.right && ret) inorder(root.right)
    }
    inorder(root)
    return ret
};
```

### [99. æ¢å¤äºŒå‰æœç´¢æ ‘](https://leetcode-cn.com/problems/recover-binary-search-tree/solution/bao-li-by-jzsq_lyx-sjai/)

åˆ†æ
1. æ—¢ç„¶æç¤ºä½¿ç”¨ ${O(N)}$ ç©ºé—´å¤æ‚åº¦å¾ˆå®¹æ˜“å®ç°ï¼Œé‚£å°±æ˜¯å¦‚æœç›´æ¥ç”¨æ•°ç»„ä¿å­˜ä¸­åºéå†çš„æ•°ç»„ï¼Œå¾—åˆ°ç»“æœæ¯”è¾ƒç®€å•ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±æ¥ä¸€ä¸‹æš´åŠ›è§£æ³•
2. å…ˆä¸­åºéå†å¾—åˆ°ä¸€ä¸ªèŠ‚ç‚¹æ•°ç»„
3. è¿™ä¸ªæ•°ç»„çš„å€¼è‚¯å®šä¸æ˜¯å•å¢çš„ï¼Œé‚£ä¹ˆå°±æ˜¯å­˜åœ¨ä¸¤ä¸ªå€¼å’Œæ’åºåä¸ä¸€æ ·ï¼Œæ‰€ä»¥å¦å¼€ä¸€ä¸ªæ•°ç»„å­˜å‚¨å€¼ï¼Œæ’åºåï¼Œå†æ¯”å¯¹ï¼Œç„¶åæ”¹å˜èŠ‚ç‚¹çš„å¯¹åº”çš„å€¼
4. æ—¶é—´å¤æ‚åº¦ ${O(nlogn)}$, ç©ºé—´å¤æ‚åº¦ ${O(N)}$
```javascript
// æš´åŠ›æ³• -- ç©ºé—´å¤æ‚åº¦ä¸º ${O(N)}$
var recoverTree = function(root) {
    const ret = []
    const dfs = (root) => {
        if(!root) return
        dfs(root.left)
        ret.push(root)
        dfs(root.right)
    }
    dfs(root);

    // ç§»åŠ¨ä¸¤ä¸ªå€¼ï¼Œä½¿å¾—æ•°ç»„ ret å•å¢
    // å¦å¼€ä¸€ä¸ªæ•°ç»„ ret2ï¼Œæ’åº
    let sorted = ret.map(item => item.val)
    sorted.sort((a,b)=> a-b)
    sorted.forEach((sorted,index) => {
        if(sorted !== ret[index].val) {
            ret[index].val = sorted
        }
    })
};
```

### [222. å®Œå…¨äºŒå‰æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°](https://leetcode-cn.com/problems/count-complete-tree-nodes/submissions/)
ç›´æ¥éå†ä¸€æ¬¡å°±å¯ä»¥å¾—åˆ°èŠ‚ç‚¹çš„æ•°é‡

```javascript
var countNodes = function(root) {
    let ret = 0
    const preorder =  root => {
        if(!root) return 
        ret++
        preorder(root.left)
        preorder(root.right)
    }
    preorder(root)
    return ret
};
```

### [é¢è¯•é¢˜ 04.12. æ±‚å’Œè·¯å¾„](https://leetcode-cn.com/problems/paths-with-sum-lcci/solution/shuang-zhi-zhen-shuang-dfs-by-jzsq_lyx-4d6m/)

åˆ†æ -- åŒ dfs
1. èµ·å§‹ç‚¹ä¸é™åˆ¶ï¼Œä½†æ˜¯è·¯å¾„å¿…é¡»æ˜¯å‘ä¸‹ï¼Œä¹Ÿå°±ä¸èƒ½å€’è½¬ç½‘ä¸Šèµ°
2. ä¸¤ä¸ª dfsï¼Œä¸€ä¸ªæŒ‡å‘èµ·å§‹èŠ‚ç‚¹ï¼Œä¸€ä¸ªä»¥èµ·å§‹èŠ‚ç‚¹ä¸ºæ ¹èŠ‚ç‚¹å¾€ä¸‹æ‰¾
3. æ³¨æ„1ï¼šè¿™é‡Œçš„å€¼æ˜¯ä»»æ„å€¼ï¼Œæ‰€ä»¥ä¸èƒ½ç”¨è¶…å‡ºå€¼æˆ–è€…å–åˆ°è·¯å¾„å°±æ¥ç»­ dfsï¼Œè€Œæ˜¯å¿…é¡»è¦æ‰«åˆ°å¶å­èŠ‚ç‚¹
4. æ—¶é—´å¤æ‚åº¦ ${O(NlogN)}$ ç›¸å½“äºæ ‘ä¸­çš„æ¯ä¸€ä¸ªèŠ‚ç‚¹éƒ½å½“äº†åˆå§‹èŠ‚ç‚¹ï¼Œç„¶åå»éå†å­æ ‘(find)

```javascript
var pathSum = function (root, sum) {
  let ret = 0;

  // éå†èŠ‚ç‚¹çš„ dfs
  const dfs = (root) => {
    if (!root) return;
    find(root, 0);
    dfs(root.left);
    dfs(root.right);
  };

  const find = (root, total) => {
    total += root;
    // if (total > sum) return; // ç»“æŸè¿™è·³çº¿ -- è¿™é‡Œ
    if (total === sum) {
      // ç¬¦åˆæ¡ä»¶
      ret++;
      //   return; 
    }
    if (root.left) find(root.left, total);
    if (root.right) find(root.right, total);
  };

  dfs(root);
  return ret;
};

```

### [129. æ±‚æ ¹èŠ‚ç‚¹åˆ°å¶èŠ‚ç‚¹æ•°å­—ä¹‹å’Œ](https://leetcode-cn.com/problems/sum-root-to-leaf-numbers/solution/qian-xu-bian-li-by-jzsq_lyx-ui9b/)

åˆ†æï¼š
1. è¿™é‡Œå®é™…è€ƒå¯Ÿçš„å°±æ˜¯æŒ‰è¦æ±‚ä»æ ¹èŠ‚ç‚¹èµ°åˆ°å¶å­èŠ‚ç‚¹ï¼Œè€Œæ‰€è°“çš„æ•°å­—ç›¸åŠ åªæ˜¯ä¸€ç§å½¢å¼
2. æ˜¾ç„¶ä½¿ç”¨å‰åºéå†ï¼Œæ¯ä¸€æ¬¡å…ˆå¤„ç†æ ¹èŠ‚ç‚¹çš„å€¼ï¼Œç„¶åå†å¤„ç†å·¦å³èŠ‚ç‚¹çš„å€¼ï¼Œç¬¦åˆé¢˜æ„
3. æ—¶é—´å¤æ‚åº¦ ${O(N)}$
```javascript
var sumNumbers = function (root) {
    let ret = 0
    const dfs = (root,num) => {
        let cur = num*10+root.val
        if(!root.left && !root.right) {
            // å¶å­èŠ‚ç‚¹ -- è¿™é‡Œåˆ¤æ–­æœ‰èŠ‚ç‚¹æ‰èµ°ï¼Œä¸»è¦æ˜¯ä¸ºäº†æ‰¾åˆ°å¶å­èŠ‚ç‚¹ï¼Œè€Œä¸æ˜¯åˆ°å¶å­ç»“ç‚¹ä¸‹çš„ nullï¼Œè¿™æ ·ä¼šé‡å¤è®¡ç®—
            ret+=cur
        }
        if(root.left) dfs(root.left,cur)
        if(root.right) dfs(root.right,cur)
    }

    dfs(root,0)
    return ret
}
```

### [1448. ç»Ÿè®¡äºŒå‰æ ‘ä¸­å¥½èŠ‚ç‚¹çš„æ•°ç›®](https://leetcode-cn.com/problems/count-good-nodes-in-binary-tree/solution/qian-xu-bian-li-by-jzsq_lyx-pwwn/)

åˆ†æ
1. å°†é¢˜ç›®è½¬åŒ–ï¼Œåœ¨å‰åºéå†è¿‡ç¨‹ä¸­ï¼Œç»´æŠ¤ä¸€ä¸ªæœ€å¤§å€¼ï¼Œå¦‚æœåœ¨æ•´æ¡è·¯å¾„ä¸­çš„æœ€å¤§å€¼å°äºç­‰äºå½“å‰èŠ‚ç‚¹çš„å€¼ï¼Œé‚£ä¹ˆè¿™ä¸ªèŠ‚ç‚¹å°±æ˜¯å·èŠ‚ç‚¹
2. åªæœ‰æ˜¯å¥½èŠ‚ç‚¹çš„æ—¶å€™ï¼Œæ‰éœ€è¦æ›¿æ¢æœ€å¤§å€¼ï¼Œç„¶åéå†å®Œå°±å¯ä»¥æ‰¾å‡ºæ‰€æœ‰çš„å·èŠ‚ç‚¹
3. æ—¶é—´å¤æ‚åº¦ ${O(N)}$


```javascript
var goodNodes = function(root) {
    let ret = 0

    const dfs = (root,max) => {
        if(root.val>=max) {
            ret++
            max = ret
        }
        if(root.left) dfs(root.left,max)
        if(root.right) dfs(root.right,max)
    }

    dfs(root,-Infinity)
    return ret
};
```

### [814. äºŒå‰æ ‘å‰ªæ](https://leetcode-cn.com/problems/binary-tree-pruning/solution/zi-di-xiang-shang-di-gui-by-jzsq_lyx-yz0j/)

åˆ†æ

1. å‡æ‰çš„æ˜¯ä¸åŒ…å« 1 çš„å­æ ‘ï¼Œæ‰€ä»¥å¯ä»¥è‡ªåº•å‘ä¸Šï¼Œé€’å½’çš„å°†ä¸ç¬¦åˆæ¡ä»¶çš„å­æ ‘å¹²æ‰
2. è‡ªåº•å‘ä¸Šä¸€èˆ¬å°±æ˜¯æ‰€è°“çš„é€’å½’ï¼Œä¸€ç›´æœç´¢ï¼ˆé€’ï¼‰åˆ°å¶å­èŠ‚ç‚¹ä¸‹çš„ nullï¼Œç„¶åå¼€å§‹å¾€ä¸Šï¼ˆå½’ï¼‰è¿”å›æ‰€å¾—çš„çš„å€¼ï¼Œä¸€èˆ¬æœ€åçš„è¿”å›å€¼éƒ½æ˜¯ç›´æ¥è¿”å›è€Œä¸æ˜¯å¤–å±‚çš„å…¨å±€å˜é‡
3. å¯¹äºæ¯ä¸€ä¸ªæ ¹èŠ‚ç‚¹ï¼Œæˆ‘ä»¬éƒ½ç”¨é€’å½’å‡½æ•°æ±‚å‡ºå‰ªæåçš„å·¦å³å­æ ‘ï¼Œå¹¶ä¸”æ‹¼åœ¨å½“å‰çš„èŠ‚ç‚¹ä¸Šï¼Œå¦‚æœå·¦å³å­æ ‘å·²ç»å‰ªæ‰äº†ï¼ˆnullï¼‰ï¼ŒåŒæ—¶è‡ªå·±çš„å€¼ä¹Ÿæ˜¯ 0 ï¼Œ é‚£ä¹ˆè¿™ä¸ªå­æ ‘å°±å¯ä»¥å‰ªæ‰ï¼Œå…·ä½“è¡¨ç°å°±æ˜¯è¿”å› null, é‚£ä¹ˆå®ƒçš„ä¸Šä¸€å±‚çˆ¶èŠ‚ç‚¹å°±å¯ä»¥è¯†åˆ«å‡ºè¿™è¯¾å­æ ‘æ²¡äº†ï¼Œä¸€ç›´å½’åˆ°æ ¹èŠ‚ç‚¹ï¼Œç„¶åè¿”å›æœ€ç»ˆç»“æœ
4. æ—¶é—´å¤æ‚åº¦: ${O(N)}$

```javascript
var pruneTree = function (root) {
  const recursion = (root) => {
    if (!root) return null; // åˆ°å¶å­èŠ‚ç‚¹çš„ä¸‹çš„ null äº†
    // æ±‚å‡ºå·¦å³æ ‘
    root.left = recursion(root.left);
    root.right = recursion(root.right);
    if (!root.left && !root.right && root.val === 0) return null; //å·¦å³æ ‘éƒ½ä¸ºnullï¼Œä¸”è‡ªèº«å€¼ä¸º 0 ï¼Œåˆ™è¿™è¯¾å­æ ‘å‡é™¤
    return root; //è¿˜å¯ä»¥æŠ¢æ•‘ä¸€ä¸‹
  };
  return recursion(root);
};
```

### [1325. åˆ é™¤ç»™å®šå€¼çš„å¶å­èŠ‚ç‚¹](https://leetcode-cn.com/problems/delete-leaves-with-a-given-value/solution/er-cha-shu-jian-zhi-by-jzsq_lyx-v8ez/)

åˆ†æ
1. è¿™é‡Œåˆ é™¤æœ‰ä¸¤ä¸ªæ ‡å‡†ï¼šå¶å­èŠ‚ç‚¹ + target
2. ä¸€æ—¦åˆ é™¤æŸä¸ªå¶å­èŠ‚ç‚¹ï¼Œå®ƒçš„çˆ¶èŠ‚ç‚¹å¾ˆå¯èƒ½å°±`å¤é˜³`ï¼Œç„¶åéœ€è¦ç»§ç»­åˆ é™¤
3. æ‰€ä»¥è‡ªåº•å‘ä¸Šçš„åˆ é™¤ï¼Œä½¿ç”¨ååºéå†æœ€åˆé€‚äº†.
4. è¿™é¢˜å’Œæ¥¼ä¸Š [814. äºŒå‰æ ‘å‰ªæ](https://leetcode-cn.com/problems/binary-tree-pruning/solution/zi-di-xiang-shang-di-gui-by-jzsq_lyx-yz0j/) åŸºæœ¬ä¸€æ ·ï¼Œæœ¬é¢˜æ˜¯ç»™å®šå€¼ targetï¼Œä¸Šé¢˜æ˜¯ç»™å®šå€¼ 0ï¼Œ æœ¬è´¨ä¸Šéƒ½æ˜¯å‰ªæ
5. æ—¶é—´å¤æ‚åº¦: ${O(N)}$

```javascript
var removeLeafNodes = function (root, target) {
  const postOrder = (root) => {
    if (!root) return null;
    root.left = postOrder(root.left);
    root.right = postOrder(root.right);
    // å¶å­èŠ‚ç‚¹ä¸”å€¼ç­‰äº target çš„æ—¶å€™
    if (!root.left && !root.right && root.val === target) return null;
    return root;
  };
  return postOrder(root);
};
```

### [1026.èŠ‚ç‚¹ä¸å…¶ç¥–å…ˆä¹‹é—´çš„æœ€å¤§å·®å€¼](https://leetcode-cn.com/problems/maximum-difference-between-node-and-ancestor/solution/zi-ding-xiang-xia-qiu-chai-zhi-by-jzsq_l-zcsm/)

åˆ†æ
1. é‡‡ç”¨è‡ªé¡¶å‘ä¸‹çš„æœç´¢æ–¹å¼ï¼Œåœ¨æœç´¢è¿‡ç¨‹ä¸­ï¼Œå°±æºå¸¦å½“å‰è·¯çº¿çš„æœ€å¤§æœ€å°å€¼ï¼Œç„¶åå°±å¯ä»¥é…å¯¹å‡ºæœ€å¤§çš„å·®å€¼äº†
2. éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå·®å€¼æœ€ä½æ˜¯ä¸¤ä¸ªèŠ‚ç‚¹ï¼Œè¿™ä¸ªé¢˜ç›®å·²ç»é™å®šå¥½äº†ï¼Œæ‰€ä»¥åœ¨å‡½æ•°ä¸­ä¸éœ€è¦å†åšåˆ¤æ–­ï¼Œä½†æ˜¯åˆå§‹åŒ–çš„æ—¶å€™è¦æ³¨æ„
3. è¿™é‡Œç›´æ¥å°†æ ¹èŠ‚ç‚¹çš„å€¼ä½œä¸ºè·¯å¾„çš„åˆå§‹ min, max å€¼ï¼Œç„¶åä»æ ¹èŠ‚ç‚¹çš„å­èŠ‚ç‚¹å¼€å§‹æœç´¢ï¼Œæ‰€ä»¥æœ‰å·¦å³èŠ‚ç‚¹è¿›è¡Œï¼Œæœ€åè¿”å›æœ€ç»ˆçš„ç»“æœ
4. æ—¶é—´å¤æ‚åº¦: ${O(N)}$

```javascript
var maxAncestorDiff = function (root) {
  let ret = 0;

  const dfs = (root, min, max) => {
    if (!root) return;
    ret = Math.max(ret, Math.abs(max - root.val), Math.abs(root.val - min));
    min = Math.min(min, root.val);
    max = Math.max(max, root.val);
    dfs(root.left, min, max);
    dfs(root.right, min, max);
  };
  // é¢˜ç›®ç»™å®šæœ€å°‘ä¸¤ä¸ªèŠ‚ç‚¹ï¼Œå°‘äºä¸¤ä¸ªèŠ‚ç‚¹ä¹Ÿç¡®å®æ— æ³•è¿›è¡Œå·®å€¼æ¯”è¾ƒ
  // æ‰€ä»¥è¿™é‡Œç›´æ¥åˆå§‹åŒ–çš„æ—¶å€™ï¼Œæ ¹èŠ‚ç‚¹çš„å€¼ä½œä¸ºåˆå§‹åŒ–çš„è·¯å¾„æœ€å¤§æœ€å°å€¼
  dfs(root.left, root.val, root.val);
  dfs(root.right, root.val, root.val);
  return ret;
};
```

### [865. å…·æœ‰æ‰€æœ‰æœ€æ·±èŠ‚ç‚¹çš„æœ€å°å­æ ‘](https://leetcode-cn.com/problems/smallest-subtree-with-all-the-deepest-nodes/solution/zi-ding-xiang-xia-he-zi-di-xiang-shang-b-y0nc/)

#### åˆ†æ 1 -- æ±‚å‡º depth ç„¶ååŒ¹é…

1. æ—¢ç„¶æ˜¯è¦æœ€å¤§æ·±åº¦ï¼Œé‚£ä¹ˆå°±å…ˆè‡ªé¡¶å‘ä¸‹æ±‚å‡ºæœ€å¤§æ·±åº¦ max, ç„¶åå†è‡ªåº•å‘ä¸Šè¿”å›æ ¹èŠ‚ç‚¹çš„æœ€å¤§æ·±åº¦ï¼Œæ‰¾å‡ºåŒ¹é…æœ€å¤§æ·±åº¦å¯¹åº”æœ€å°èŠ‚ç‚¹æ ‘ï¼› -- è¿™é‡ŒåŒ¹é…çš„æ—¶å€™éœ€è¦å…ˆæ±‚å‡ºæœ€å¤§æ·±åº¦ depthï¼Œç„¶åå†ä¸€ä¸€åŒ¹é…ï¼›
2. å› ä¸ºæˆ‘ä»¬è¦æ±‚çš„æ˜¯æœ€å°çš„å­æ ‘ï¼Œä½†æ˜¯è¿™ä¸ªå­æ ‘è¦åŒ…å«æ‰€æœ‰çš„æœ€å¤§æ·±åº¦èŠ‚ç‚¹ï¼Œæ‰€ä»¥æˆ‘ä»¬é€’å½’è¿”å›çš„æ˜¯å½“å‰èŠ‚ç‚¹å­æ ‘çš„æœ€å¤§æ·±åº¦ï¼Œåªæœ‰å½“å­æ ‘çš„å·¦å³å­æ ‘åŒæ—¶å­˜åœ¨æœ€å¤§æ·±åº¦çš„èŠ‚ç‚¹æ—¶ï¼Œæˆ‘ä»¬æ‰ä¼šæ›¿æ¢åˆ°é«˜åº¦æ›´é«˜çš„æ ‘ï¼Œå³æ›´å¤§çš„æ ‘
3. å…ˆæœç´¢åˆ°å¶å­èŠ‚ç‚¹ï¼Œåœ¨é€’å½’å›æ ¹èŠ‚ç‚¹ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º ${O(N)}$

```javascript
var subtreeWithAllDeepest = function (root) {
  let max = 0; // æœ€å¤§æ·±åº¦
  let ret = undefined; // ç›®æ ‡èŠ‚ç‚¹
  const dfs = (root, depth) => {
    // å¶å­èŠ‚ç‚¹ -- å‰åºéå†æ±‚å‡ºæœ€å¤§æ·±åº¦
    if (!root) {
      max = Math.max(max, depth); //æ±‚å‡ºæœ€å¤§æ·±åº¦
      return depth;
    }
    const left = dfs(root.left, depth + 1);
    const right = dfs(root.right, depth + 1);

    // ååºéå†æ ¹æ®å·¦å³å­æ ‘çš„æœ€å¤§æ·±åº¦æ˜¯å¦åŒæ—¶æ»¡è¶³ maxï¼Œåˆ¤æ–­æ˜¯å¦éœ€è¦æ›¿æ¢æˆæ›´å¤§çš„å­æ ‘
    if (left === max && right === max) {
      // åªæœ‰åœ¨ä¸¤å­æ ‘çš„æœ€å¤§æ·±åº¦åŒæ—¶ç­‰äºæœ€å¤§æ·±åº¦çš„æ—¶å€™ï¼Œæ‰éœ€ç½®æ¢èŠ‚ç‚¹
      ret = root;
    }
    // ååºéå†å®Œäº†ï¼Œåˆ°è¾¾æ ¹èŠ‚ç‚¹
    return Math.max(left, right); //è¿”å›çš„æ˜¯å½“å‰èŠ‚ç‚¹å­æ ‘ä¸­çš„çš„æœ€å¤§æ·±åº¦
  };
  dfs(root, 0);
  return ret;
};
```

#### åˆ†æ 2 -- æ·±åº¦ä¸æ¯”æ±‚å‡ºæ¥

1. ä¹‹å‰æ˜¯ç”¨å…¨å±€å˜é‡ä¿å­˜æœ€å¤§æ·±åº¦å’Œæœ€å°çš„æ ‘ï¼Œå®é™…ä¸Šåœ¨æ¯ä¸€æ¬¡é€’å½’ä¸­ï¼Œæˆ‘ä»¬éƒ½èƒ½å¾—åˆ°å·¦å³å­æ ‘çš„æƒ…å†µï¼ŒåŒ…æ‹¬å­æ ‘ä¸­`æœ€å¤§çš„æ·±åº¦`ä»¥åŠ`å¯¹åº”çš„æœ€å°å­æ ‘`,
2. æ‰€ä»¥é€’å½’ return å›æ¥ `æœ€å¤§çš„æ·±åº¦`ä»¥åŠ`å¯¹åº”çš„æœ€å°å­æ ‘`ï¼Œå°±å¯ä»¥ä¸éœ€è¦é¢å¤–çš„å˜é‡äº†
3. å®é™…ä¸Šæˆ‘ä»¬æ ¹æœ¬ä¸éœ€è¦çŸ¥é“å…·ä½“çš„æœ€å¤§æ·±åº¦æ˜¯å¤šå°‘ï¼Œåªéœ€è¦æ¯”è¾ƒæ·±åº¦ï¼Œå¾—åˆ°æœ€å¤§çš„é‚£ä¸ªå³å¯

```javascript
var subtreeWithAllDeepest = function (root) {
  const dfs = (root, depth) => {
    if (!root) return [root, depth];
    const [lr, ld] = dfs(root.left, depth + 1); // lr -- left root, ld -- left depth
    const [rr, rd] = dfs(root.right, depth + 1);
    if (ld === rd) return [root, ld]; // å¦‚æœå·¦å³æ ‘çš„æœ€å¤§å€¼ç›¸åŒï¼Œå³æœ€å¤§æ·±åº¦èŠ‚ç‚¹ä¸¤è¾¹éƒ½æœ‰ï¼Œæ‰€ä»¥è¦æ›´æ–°ä¸€ä¸‹æœ€å°æ ‘èŠ‚ç‚¹
    if (ld > rd) return [lr, ld];
    if (ld < rd) return [rr, rd];
  };
  return dfs(root, 0);
};
```

### [1530. å¥½å¶å­èŠ‚ç‚¹å¯¹çš„æ•°é‡](https://leetcode-cn.com/problems/number-of-good-leaf-nodes-pairs/solution/hou-xu-bian-li-by-jzsq_lyx-ds6a/)
åˆ†æ
1. çœ‹é¢˜æ±‚æ‰€æœ‰çš„å¥½å¶å­èŠ‚ç‚¹å¯¹ï¼Œæ—¢ç„¶æ˜¯å¶å­èŠ‚ç‚¹ä¹‹é—´åšæ–‡ç« ï¼Œè‡ªåº•å‘ä¸Šçš„å»æ±‚ä¸¤è€…è·ç¦»ï¼Œæ„Ÿè§‰æ¯”è¾ƒç¬¦åˆç›´è§‰
2. ååºéå†åˆ°å¶å­èŠ‚ç‚¹,å¼€å§‹è¿”å›ï¼Œç”±äºä¸€ä¸ªèŠ‚ç‚¹çš„å¶å­èŠ‚ç‚¹æ ‘å¯èƒ½ä¸æ­¢ä¸€ä¸ªï¼Œæ‰€ä»¥è¦ç”¨æ•°ç»„ä¿å­˜
3. é€’å½’å›æ¥çš„å¶å­èŠ‚ç‚¹æ•°ç»„ï¼Œéƒ½å¾—æ›´æ–°èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹çš„è·ç¦»æ•°ç»„
4. ç„¶åæ‰¾å‡ºå·¦å³èŠ‚ç‚¹è·ç¦»ä¸­ç¬¦åˆè¦æ±‚çš„èŠ‚ç‚¹ï¼Œæœ€åå°†æ‰€æœ‰å¶å­èŠ‚ç‚¹åˆå¹¶èµ·æ¥è¿”å›
5. æ—¶é—´å¤æ‚åº¦ ${O(N)}$,ç©ºé—´å¤æ‚åº¦ ${O(N)}$

```javascript
var countPairs = function (root, distance) {
  const ret = 0;
  const dfs = (root) => {
    if (!root) return [];
    if (!root.left && !root.right) return [0]; // å¶å­èŠ‚ç‚¹
    // æ±‚å‡ºå¶å­èŠ‚ç‚¹åˆ°å½“å‰èŠ‚ç‚¹çš„è·ç¦»
    const left = dfs(root.left).map((i) => i + 1);
    const right = dfs(root.right).map((i) => i + 1);
    // ç„¶åæ‰¾å‡ºæ‰€æœ‰å°äº dis çš„èŠ‚ç‚¹å¯¹
    for (let l of left) {
      for (let r of right) {
        if (l + r <= distance) ret++;
      }
    }
    // å°†å¶å­èŠ‚ç‚¹åˆèµ·æ¥è¿”å›å›å»
    return [...left, ...right];
  };
  dfs(root);
  return ret;
};
```

### [894. æ‰€æœ‰å¯èƒ½çš„æ»¡äºŒå‰æ ‘](https://leetcode-cn.com/problems/all-possible-full-binary-trees/solution/bian-li-hou-xu-bian-li-by-jzsq_lyx-jimw/)
åˆ†æ
1.  å¦‚æœç»™å®šçš„ n æ˜¯å¶æ•°ï¼Œé‚£ä¹ˆç›´æ¥è¿”å›ç©ºçš„æ•°ç»„ï¼Œå› ä¸ºä¸èƒ½ç»„æˆæ»¡äºŒå‰æ ‘ï¼Œè€Œå¦‚æœåªæœ‰ 1 ä¸ªèŠ‚ç‚¹ï¼Œåˆ™å¯ä»¥è¿”å› [node] -- è¿™ä¸ªæ˜¯è¾¹ç•Œ
2.  å¯¹äºæ¯ä¸€ä¸ªå­æ ‘è€Œè¨€ï¼Œéƒ½æ˜¯åœ¨æ„å»º`æ»¡äºŒå‰æ ‘`,åªæ˜¯å¯¹åº”çš„èŠ‚ç‚¹æ•° n æœ‰æ‰€åŒºåˆ«è€Œè¨€ -- æ¢å¥è¯è¯´ï¼Œå¯¹äºæ¯ä¸€ä¸ªå­èŠ‚ç‚¹ï¼Œéƒ½è¦è¿›è¡Œä¸€æ¬¡æ„å»ºæ»¡äºŒå‰æ ‘ï¼ŒçŸ¥é“è¾¹ç•Œä¸ºæ­¢
3.  æ¯ä¸€å±‚éƒ½æ˜¯éå†åˆ†é…å·¦å³æ ‘çš„èŠ‚ç‚¹æ•°ï¼Œç„¶åä½¿ç”¨`åç»­éå†`çš„æ–¹å¼éå†åˆ°è¾¹ç•Œæ¡ä»¶å¤„ï¼Œç„¶åå¼€å§‹è¿›è¡Œå¤„ç†ï¼›
4.  åªæœ‰å½“å·¦å³èŠ‚ç‚¹æ ‘éƒ½å­˜åœ¨èŠ‚ç‚¹çš„æ—¶å€™ï¼Œæ‰éœ€è¦è¿›è¡Œæ‹¼æ¥ï¼Œç»„åˆæˆæ–°çš„èŠ‚ç‚¹æ•°ç»„å¾€ä¸Šé€’å½’
5.  æ•´ä½“å°±æ˜¯è‡ªé¡¶å‘ä¸‹åˆ†é…å­æ ‘èŠ‚ç‚¹æ•°ï¼Œæ¥æ±‚æ»¡äºŒå‰æ ‘ï¼›ç„¶åè‡ªä½å‘ä¸Šç»„åˆæ›´æ–°èŠ‚ç‚¹æ ‘ï¼Œæœ€åå¾—åˆ°ä¸€ä¸ªåˆè§„çš„æ»¡äºŒå‰æ ‘èŠ‚ç‚¹æ•°ç»„ï¼›
6.  æ—¶é—´å¤æ‚åº¦ ${N^2}$, æ¯ä¸€å±‚éƒ½éœ€è¦éå†åˆ‡å‰²ï¼Œåˆ‡å‰²å®Œä¹‹ååˆ†åˆ«è¿›è¡Œæ ‘çš„åˆ›å»º
```javascript
var allPossibleFBT = function (n) {
  const recursion = (n) => {
    if (n % 2 === 0) return []; // å¶æ•°
    if (n === 1) return [new TreeNode(0)];
    const ret = []; // ä¿å­˜å½“å‰èŠ‚ç‚¹ä¸‹ï¼Œæ‰€æœ‰æ»¡è¶³`æ»¡äºŒå‰æ ‘`æƒ…å†µçš„èŠ‚ç‚¹
    for (let i = 0; i < n; i++) {
      const left_num = i,
        right_num = n - i - 1; // ä¹‹æ‰€ä»¥å†å‡å» 1 ä¸ªï¼Œå› ä¸ºæ ¹èŠ‚ç‚¹å æ®äº† 1
      // æ„å»ºå·¦æ ‘çš„æ»¡äºŒå‰æ ‘
      const lefts = recursion(left_num);
      const rights = recursion(right_num);
      if (lefts && rights) {
        // å¿…é¡»åŒæ—¶å­˜åœ¨çš„æ—¶å€™ï¼Œæ‰æ˜¯æ»¡çš„ï¼›è¦ä¸éƒ½æ²¡æœ‰
        for (let l of lefts) {
          for (let r of rights) {
            const root = new TreeNode(0);
            root.left = l;
            root.right = r;
            ret.push(root);
          }
        }
      }
    }
    return ret;
  };
  return recursion(n);
};
```

### [96. ä¸åŒçš„äºŒå‰æœç´¢æ ‘](https://leetcode-cn.com/problems/unique-binary-search-trees/solution/bao-li-jie-fa-dp-jian-zhi-by-jzsq_lyx-1e5w/)
#### åˆ†æ -- æš´åŠ›æ‹†åˆ†æ³•
1. å¯¹äº BST ä¸­æ¯ä¸€ä¸ªå­èŠ‚ç‚¹ï¼Œä»–ä»¬æ‰€åœ¨çš„å­æ ‘ä¹Ÿæ˜¯ BSTï¼Œæ‰€ä»¥æˆ‘ä»¬è¦æ±‚ [1,n] æœ‰å¤šå°‘ä¸ªä¸åŒçš„ BSTï¼Œ å¯ä»¥æ‹†è§£æˆ N ç§æ–¹å¼çš„å­æ ‘é›†åˆï¼Œæ¯”æ–¹è¯´ç»™å®šçš„ n == 3ï¼Œ åˆ™å¯ä»¥æ‹†è§£æˆ [0,2],[1,1],[2,0] ä¸‰ç§å·¦å³å­æ ‘èŠ‚ç‚¹åˆ†é…
2. æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä¸æ–­ç½‘ä¸‹æ‹†åˆ†ï¼Œè¾¹ç•Œæ¡ä»¶æ˜¯èŠ‚ç‚¹æ•°ä¸º 1 æˆ–è€… 0 çš„æ—¶å€™ï¼Œå°±åªæœ‰ä¸€ç§æƒ…å†µäº†ï¼Œç„¶åå¼€å§‹è¿”å›
3. æœ€åé€’å½’å›æ¥çš„å€¼å°±æ˜¯æˆ‘ä»¬æƒ³è¦çš„å€¼ã€‚
4. æ—¶é—´å¤æ‚åº¦ ${n^2logn}$
```javascript
var numTrees = function (n) {
  const recursion = (n) => {
    if (n === 0) return 1;
    if (n === 1) return 1;
    let temp = 0;
    for (let i = 1; i <= n; i++) {
      const l = i - 1,
        r = n - i;
      const left = recursion(l);
      const right = recursion(r);
      temp += left * right;
    }
    return temp;
  };

  return recursion(n);
};
```
#### åˆ†æ -- dp
1. åŸºäºä¸Šé¢çš„ç†è®ºï¼Œå‘ç°å…¶å®å¯¹äºèƒ½å¤Ÿå½¢æˆå¤šå°‘ä¸ª BST åªå’Œæœ‰åºæ•°ç»„æ•°é‡ n æœ‰å…³ï¼Œè€Œä¸”æˆ‘ä»¬æœ€ç»ˆåªæ˜¯æ±‚ä¸€ä¸ªæ€»å€¼è€Œä¸æ˜¯å„ç§æƒ…å†µçš„æ ‘çš„é›†åˆï¼›
2. æ‰€ä»¥åœ¨æ‹†è§£è¿‡ç¨‹ä¸­ï¼Œä¼šä¸æ–­é‡å¤çš„å»è¿›è¡Œé€’å½’æ“ä½œï¼Œè¿”å›å¯¹åº”çš„å€¼ï¼Œè¿™äº›å€¼å…¶å®æ˜¯å¯ä»¥ä¿å­˜èµ·æ¥ç›´æ¥ä½¿ç”¨çš„ï¼Œæ¯”æ–¹è¯´ fn(1) = 1.fn(2) = 2 ç­‰ï¼Œå¯ä»¥ç”¨ä¸€ä¸ªé›†åˆä¿å­˜èµ·æ¥ï¼Œç„¶åæ±‚çš„æ—¶å€™ç›´æ¥è¿”å›è€Œä¸ç”¨å†è¿›è¡Œé€’å½’ã€‚
3. ç„¶åå°±æƒ³åˆ°äº†ä½¿ç”¨ dp çš„æ–¹å¼ï¼Œdp[i] è¡¨ç¤ºçš„å°±æ˜¯æœ‰ i æœ‰å€¼çš„æœ‰åºæ•°ç»„å¯ä»¥æœ‰å¤šå°‘ä¸åŒçš„ BST
4. è¾¹ç•Œæ¡ä»¶ï¼šdp[0] = dp[1] = 1
5. çŠ¶æ€è½¬ç§»æ–¹ç¨‹: dp[i] = Sum(dp[k]\*dp[i-k]) å·¦å³ä¸¤æ ‘åˆ†åˆ«ç»™ä¸ä¸åŒçš„èŠ‚ç‚¹æ•°ï¼Œä»–ä»¬ä¹‹é—´çš„ä¹˜ç§¯å°±æ˜¯å…¶ä¸­ä¸€ç§æƒ…å†µçš„æ€»å’Œï¼Œå†ç´¯åŠ èµ·æ¥å³å¯ï¼Œè¿™ä¸ªæ—¶å€™ç”±äºå‰é¢å°çš„ dp å€¼å·²ç»å­˜åœ¨ï¼Œæ‰€ä»¥å¯ä»¥ O(1)çš„å½¢å¼æ±‚å‡º dp[k] å’Œ dp[i-k]
6. æ—¶é—´å¤æ‚åº¦ ${O(NlogN)}$, ç©ºé—´å¤æ‚åº¦ ${N}$

```javascript
var numTrees = function (n) {
  const dp = new Array(n + 1).fill(0);
  dp[0] = 1;
  dp[1] = 1;

  for (let i = 2; i <= n; i++) {
    for (let j = 0; j < i; j++) {
      dp[i] += dp[j] * dp[i - j - 1];
    }
  }
  return dp[n];
};
```

### [437. è·¯å¾„æ€»å’Œ III](https://leetcode-cn.com/problems/path-sum-iii/solution/shuang-bian-li-by-jzsq_lyx-ht1i/)
åˆ†æ
1. å…³é”®ç‚¹ï¼Œè·¯å¾„å¿…é¡»å‘ä¸‹ï¼Œä¹Ÿå°±æ˜¯ä¸å¯ä»¥å¾€ä¸Šé‡å¤ï¼›
2. ç„¶åèµ·ç‚¹ä¸å¿…æ˜¯æ ¹èŠ‚ç‚¹ï¼Œæ‰€ä»¥éœ€è¦æœ‰ä¸€ä¸ª dfs éå†ä¸åŒçš„èµ·ç‚¹
3. ç»ˆç‚¹ä¸ä¸€å®šæ˜¯å¶å­èŠ‚ç‚¹ï¼Œæ‰€ä»¥å¯èƒ½åœ¨åŠé€”å°±å¾—åˆ°åˆè§„çš„è·¯å¾„ï¼Œä½†æ˜¯ç”±äºå€¼æœ‰æ­£æœ‰è´Ÿï¼Œæ‰€ä»¥å¿…é¡»èµ°åˆ°å¶å­èŠ‚ç‚¹ï¼Œæ‰èƒ½ä¿è¯ä¸é—æ¼
4. outer è´Ÿè´£å‰åºéå†è·å–å…¶å®èŠ‚ç‚¹ï¼Œ inner è´Ÿè´£ä»¥æŸä¸ªå­æ ‘èŠ‚ç‚¹ä¸ºèµ·ç‚¹ï¼Œæ‰¾å‡ºå’Œä¸º targetSum çš„è·¯å¾„
5. æ—¶é—´å¤æ‚åº¦ ${O(NlogN)}$
```javascript
var pathSum = function (root, targetSum) {
  let ret = 0;
  const inner = (root, sum) => {
    const temp = sum + root.val;
    if (temp === targetSum) ret++;
    if (root.left) inner(root.left, temp);
    if (root.right) inner(root.right, temp);
  };

  const outer = (root) => {
    if (!root) return;
    inner(root, 0);
    outer(root.left);
    outer(root.right);
  };
  outer(root);
  return ret;
};
```

## å›°éš¾é¢˜


### [987. äºŒå‰æ ‘çš„å‚åºéå†](https://leetcode-cn.com/problems/vertical-order-traversal-of-a-binary-tree/solution/mapbfs-by-jzsq_lyx-4jq1/)
åˆ†æ
1. è¿™é“é¢˜ä¸»è¦è¿˜æ˜¯çœ‹å›¾åšé¢˜ï¼Œä¸Šé¢éƒ½æ ‡è®°äº†ä¸€äº›å‚åºçš„åæ ‡ï¼Œæ‰€ä»¥å°±è€ƒè™‘éå†ä¸€æ¬¡ï¼Œç»™èŠ‚ç‚¹æ ‡æ³¨ä¸Šå‚åºä½ç½®å±æ€§ï¼Œç„¶åå°†ç›¸åŒå‚åºä½ç½®çš„æ”¾åœ¨åŒä¸€ä¸ªæ•°ç»„ä¸­å³å¯ï¼›
2. å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œåœ¨äºŒå‰æ ‘ç›¸äº’äº¤æ›¿çš„å­æ ‘ä¸­ï¼ŒåŒä¸€å±‚ä¸­ä¼šå‡ºç°å¤šä¸ªå‚åºä½ç½®ä¸€æ ·çš„å€¼ï¼Œè¿™ä¸ªæ—¶å€™é¢˜ç›®ä¹Ÿå‘Šè¯‰æ€ä¹ˆå¤„ç†äº† `åŒè¡ŒåŒåˆ—ç›¸åŒæ—¶ï¼Œæ‰ä¼šå°†å€¼ä»å°åˆ°å¤§æ’åº`ï¼›
3. æ‰€ä»¥ä¸èƒ½ç›´æ¥å°†æ‰€æœ‰å‚åºä½ç½®ç›¸åŒçš„å€¼ï¼Œå­˜å‚¨åˆ°å…¨å±€çš„ map ä¸­ï¼Œè€Œæ˜¯éœ€è¦åœ¨æ¯ä¸€å±‚æœ‰ä¸€ä¸ªå˜é‡ tempMap ï¼Œå¤„ç†å¥½å¯èƒ½å­˜åœ¨çš„åŒå±‚åŒåˆ—çš„å€¼çš„é¡ºåºåï¼Œå†åˆå¹¶åˆ°å…¨å±€çš„ mapï¼›
4. éå†å®Œæ ‘å¾—åˆ°ä¸€ä¸ª map åï¼Œkey æ˜¯å‚åºä½ç½®ï¼Œvalue æ˜¯ç›¸åº”çš„å€¼ï¼Œæ˜¯ä¸€ä¸ªæ•°ç»„
5. å¯¹ key å€¼è¿›è¡Œæ’åºåè½¬æˆä¸€ä¸ªåˆè§„çš„æ•°ç»„å³å¯
6. ç©ºé—´å¤æ‚åº¦ ${O(N)}$, æ—¶é—´å¤æ‚åº¦ ${O(N)}$ + ${O(MlogM)}$, å…¶ä¸­ N æ˜¯æ ‘çš„èŠ‚ç‚¹å€¼ï¼Œ M æ˜¯å‚åºä½ç½®å®½åº¦
```javascript
 var verticalTraversal = function (root) {
    const ret = []
    const queue = []
    const map = new Map(); // æ€»çš„å­˜å‚¨ä¸åŒå‚åºä½ç½®çš„æ•°ç»„
    queue.push([root,0]) // ç¬¬ä¸€ä¸ªå‚æ•°çš„èŠ‚ç‚¹ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯å‚åºè·ç¦» -- è¿™é‡Œä»¥æ ¹èŠ‚ç‚¹ä¸º 0

    while(queue.length) {
        let len = queue .length
        const tempMap = new Map() // æ¯ä¸€å±‚çš„ä¸´æ—¶ map
        while(len--){
            // è¿›å…¥æ¯ä¸€å±‚å¤„ç†
            const [root,index] = queue.shift()
            if(root.left) queue.push([root.left,index-1])
            if(root.right) queue.push([root.right,index+1])
            // å¤„ç†å½“å‰èŠ‚ç‚¹çš„å­˜æ”¾ä½ç½®
            if(tempMap.has(index)){
                tempMap.set(index,tempMap.get(index).concat(root.val))
            }else{
                tempMap.set(index,[root.val])
            }
        }
        for(let [index,val] of tempMap.entries()){
            val.sort((a,b) =>a-b)
            if(map.has(index)){
                map.set(index,map.get(index).concat(val))
            }else{
                map.set(index,val)
            }
        }
    }
    // å¤„ç†å®Œäº†
    return [...map.keys()].sort((a,b) => a-b).map(key => map.get(key))
}
```

### [2.å‰‘æŒ‡ Offer 37. åºåˆ—åŒ–äºŒå‰æ ‘](https://leetcode-cn.com/problems/xu-lie-hua-er-cha-shu-lcof/solution/shu-de-xu-lie-hua-by-jzsq_lyx-stqq/)
- è¿™é“é¢˜å…¶å®å°±æ˜¯è®©ä½ äº†è§£ä¸€ä¸‹ï¼Œä¸ºå•¥æˆ‘ä»¬åšæ ‘é¢˜çš„æ—¶å€™ï¼Œæ˜æ˜åœ¨åšæ ‘é¢˜ï¼ˆæˆ–è€…é“¾è¡¨ï¼‰è¿™äº›é¢˜ç›®çš„æ—¶å€™ï¼Œæ§åˆ¶å°çš„ä¾‹å­éƒ½æ˜¯æ•°ç»„ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªå¯è§†åŒ–çš„æ ‘ç»“æ„çš„æ•°æ®ï¼Œä¹‹å‰æˆ‘ä¸€ç›´å¾ˆéš¾ç†è§£ï¼Œç›´åˆ°äº†è§£åˆ°åºåˆ—åŒ–å’Œååºåˆ—åŒ–ä¹‹åã€‚
- ä¸ªäººç†è§£è¿™æ˜¯ä¸ºäº†å…¼å®¹ä¸åŒè¯­è¨€å†…ç½®æ•°æ®ç»“æ„çš„ä¸åŒè€Œåšå‡ºæ¥çš„ä¼˜åŒ–ç­–ç•¥ï¼Œæ¯”æ–¹è¯´ JS å°±æ²¡æœ‰æ ‘è¿™ç§ç»“æ„ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨åšæ ‘çš„æ—¶å€™ï¼Œéœ€è¦è‡ªå·±æ„å»ºä¸€ä¸ªç±»ï¼Œç„¶åç”¨æˆ‘ä»¬å¸¸ç”¨çš„æ•°æ®ç»“æ„è½¬æˆæ ‘ï¼Œç„¶åå†è¿›è¡Œè¿ç®—ï¼Œè€Œè¿™ä¸ªè¿‡ç¨‹ï¼Œå…¶å®å°±æ˜¯æ ‘çš„ååºåˆ—åŒ–ã€‚è€Œæ•°ç»„ï¼Œå­—ç¬¦ä¸²è¿™äº›ä½œä¸ºåŸºæœ¬æ•°æ®ç»“æ„ï¼Œå‡ ä¹åœ¨å¸¸ç”¨è¯­è¨€ä¸­éƒ½ä¼šå†…ç½®ï¼Œæ‰€ä»¥å°±æˆäº†æ ‘è¿™äº›ç»“æ„åºåˆ—åŒ–ç»“æ„çš„ä¼˜å…ˆé€‰æ‹©ã€‚

#### åˆ†æ -- åºåˆ—åŒ– -- èŠ‚ç‚¹è½¬æˆå­—ç¬¦ä¸²
 1. æˆ‘ä»¬ä¸»è§‚ä¸Šçœ‹ä¸€ä¸ªååºåˆ—åŒ–çš„æ•°ç»„æˆ–è€…å­—ç¬¦ä¸²çš„æ—¶å€™ï¼Œä¹Ÿæ˜¯ä»ä¸Šåˆ°ä¸‹ï¼Œä»å·¦åˆ°å³è¿›è¡ŒåŒ¹é…ï¼Œæ‰€ä»¥æˆ‘ä»¬å†åšåºåˆ—åŒ–çš„æ—¶å€™ï¼Œå°±ç›´æ¥ä½¿ç”¨çš„ bfs äº† 
 2. éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™é‡Œæ˜¯ç›´æ¥ç”¨å•ä¸ªå­—ç¬¦ä¸²å­˜å‚¨ï¼Œæœ€åä¼šæœ‰ä¸€ä¸ª "," å¤šå‡ºæ¥ï¼Œéœ€è¦å»é™¤
 3. æ—¶é—´å¤æ‚åº¦å’Œç©ºé—´å¤æ‚åº¦éƒ½æ˜¯ï¼š${O(N)}$, 
```javascript
 var serialize = function (root) {
  if (!root) return "";
  let ret = "";
  const queue = [];
  queue.push(root);
  while (queue.length) {
    let len = queue.length;
    let isNull = true; // ç¡®å®šä¸€ä¸‹è¿™ä¸€å±‚æ˜¯ä¸æ˜¯å…¨æ˜¯ nullï¼Œå¦‚æœæ˜¯,é‚£ä¹ˆå°±è¦ç»“æŸäº†
    let str = "";
    while (len--) {
      const root = queue.shift();
      if (!root) {
        // å› ä¸ºåœ¨ååºåˆ—åŒ–çš„æ—¶å€™ï¼Œä½ å¯ä¸çŸ¥é“å½“å‰ä¸€å±‚å¯¹åº”çš„èŠ‚ç‚¹çš„ä½ç½®åœ¨å“ªé‡Œï¼Œæ‰€ä»¥åªèƒ½ç”¨ null æ¥åšå ä½ç¬¦äº†
        str += "null"+ ",";
      } else {
        isNull = false;
        str += root.val + ",";
        queue.push(root.left);
        queue.push(root.right);
      }
    }
    // ä¸€å±‚éå†å®Œäº†
    if (isNull) {
      // è¿™ä¸€å±‚éƒ½æ˜¯ nullï¼Œæ‰€ä»¥ç»“æŸäº†
      return ret.substr(0,ret.length-1);
    } else {
      ret += str; // å°†å­—ç¬¦ä¸²åŠ ä¸Š
    }
  }
};

```
#### åˆ†æ -- ååºåˆ—åŒ– -- å­—ç¬¦ä¸²è½¬æˆèŠ‚ç‚¹
1. ç»™å®šä¸€ä¸ªæ•°ç»„ï¼Œååºåˆ—åŒ–å‡ºä¸€è¯¾æ ‘
2. ä½¿ç”¨çš„æ˜¯ BFS å¹³é“ºçš„æ–¹å¼ï¼Œæ¯æ¬¡å–èµ° nodes ä¸­çš„ä¸¤ä¸ªèŠ‚ç‚¹ï¼Œå¦‚æœæœ‰å€¼ï¼Œåˆ™ä¿å­˜åˆ°é˜Ÿåˆ—ä¸­ï¼Œä¿è¯å¾ªç¯ç»“æŸå‰å°†æ‰€æœ‰æœ‰å€¼çš„èŠ‚ç‚¹å’Œå¯¹åº”çš„å·¦å³èŠ‚ç‚¹éƒ½ä¸²è”å¥½ã€‚
3. å…·ä½“æ¥è¯´å°±æ˜¯ queue ä¿å­˜æœ‰å€¼çš„èŠ‚ç‚¹, index å–å¾—å¼¹å‡ºèŠ‚ç‚¹çš„å·¦å³å­èŠ‚ç‚¹ï¼ˆå·¦å³èŠ‚ç‚¹æ˜¯ä¿å­˜åœ¨ nodes ä¸­çš„ï¼‰
4.  æ—¶é—´å¤æ‚åº¦å’Œç©ºé—´å¤æ‚åº¦éƒ½æ˜¯ï¼š${O(N)}$ï¼›
```javascript
var deserialize = function (data) {
    if(!data) return null // ç©ºèŠ‚ç‚¹
    const nodes = data.split(',') // åˆ‡å‰²æˆæ•°ç»„
    const root = new TreeNode(nodes[0]); //æ ¹èŠ‚ç‚¹
    const queue = [] // é˜Ÿåˆ—ï¼Œç”¨æ¥å­˜å‚¨æ¯ä¸€å±‚çš„èŠ‚ç‚¹ï¼›
    queue.push(root)

    let index = 0; // å½“å‰èŠ‚ç‚¹çš„ä¸‹æ ‡
    while(index < nodes.length - 2){
      const root = queue.shift()
      const lv = nodes[index+1]
      const rv = nodes[index+2]
      if(lv!== 'null') {
        const lnode = new TreeNode(lv)
        root.left = lnode
        queue.push(lnode)
      }
      if(rv!== 'null') {
        const rnode = new TreeNode(rv)
        root.right = rnode
        queue.push(rnode)
      }
      index +=2
    }
   
    return root

};
```


### [124. äºŒå‰æ ‘ä¸­çš„æœ€å¤§è·¯å¾„å’Œ](https://leetcode-cn.com/problems/binary-tree-maximum-path-sum/solution/er-cha-shu-de-zui-da-lu-jing-he-by-jzsq_-e1th/)
 åˆ†æ
 1. æ±‚ä»¥æŸä¸ªèŠ‚ç‚¹æœ€æ ¹èŠ‚ç‚¹çš„æœ€å¤§è·¯å¾„å’Œï¼Œå’Œä»¥è¿™ä¸ªèŠ‚ç‚¹ä¸ºæˆªæ­¢ç‚¹çš„æœ€å¤§è·¯å¾„å’Œï¼Œæ˜¯ä¸¤ä¸ªä¸ä¸€æ ·çš„å€¼
 2. å‰è€…æ ¹èŠ‚ç‚¹æ˜¯è·¯å¾„ä¸­çš„ä¸€ç¯ï¼Œå¦‚æœ l -> root -> r
 3. è€Œåè€…æ˜¯ä½œä¸ºå­æ ‘çš„æœ€å¤§å•è¾¹è·¯å¾„å’Œï¼Œè¿”å›ç»™çˆ¶èŠ‚ç‚¹ï¼Œè®©çˆ¶èŠ‚ç‚¹è¿›è¡Œåˆ¤æ–­ï¼Œå¦‚ l(e) -> root
 4. æ‰€ä»¥æ•´ä½“æ¥è¯´å°±æ˜¯ä¸€ä¸ªé€’å½’è¿‡ç¨‹ï¼Œä½†æ˜¯åœ¨é€’å½’çš„è¿‡ç¨‹ä¸­åˆå­˜åœ¨å±€éƒ¨æœ€ä¼˜è§£éœ€è¦ä¿å­˜ï¼›
 5. æ¯ä¸€æ¬¡çš„é€’å½’çš„æœ€å¤§å€¼æ˜¯åŒ…å«`æ ¹èŠ‚ç‚¹`çš„æœ€å¤§å€¼ï¼Œè¿™æ ·å¯ä»¥ä¿è¯è¡”æ¥ä¸Šå·¦å³å­æ ‘çš„æœ€å¤§å€¼ï¼Œå¦‚æœå…¶ä¸­ä¸€è¯¾å­æ ‘çš„æœ€å¤§å€¼æ¯”è¿™ä¸ªå¤§ï¼Œé‚£ä¹ˆåœ¨åé¢é€’å½’ä¸­è‡ªç„¶ä¼šæ›¿ä»£å½“å‰å€¼ï¼Œä¸éœ€è¦é¢å¤–å¤„ç†
 6. æ—¶é—´å¤æ‚åº¦æ˜¯ ${O(N)}$, ç©ºé—´å¤æ‚åº¦æ˜¯ ${O(1)}$
```javascript

var maxPathSum = function(root) {
    let max = -Infinity
    const dfs = root => {
        if(!root) return 0
        const l = dfs(root.left)
        const r = dfs(root.right)
        // è¿™é‡Œçš„ root.val ä¸éœ€è¦å’Œ0æ¯”è¾ƒï¼Œå¿…é¡»åŒ…å«æ ¹èŠ‚ç‚¹ï¼Œå¦åˆ™æ— æ³•è¡”æ¥
        // åŒæ—¶å•å­æ ‘æœ€å¤§å€¼å¦‚æœæ›´å¤§ï¼Œä¼šåœ¨åé¢çš„ dfs ä¸­å–ä»£ max
        const tempMax = Math.max(l,0)+Math.max(r,0)+root.val
        max =Math.max(max,tempMax) 
        return Math.max(0,l,r)+root.val // è¿™é‡Œçš„æ ¹èŠ‚ç‚¹æ˜¯å¿…é¡»å­˜åœ¨çš„ï¼Œä¸ç„¶æ²¡æ³•è¡”æ¥ä¸Š
    }
    dfs(root)
    return max
};
```

### [834. æ ‘ä¸­è·ç¦»ä¹‹å’Œ](https://leetcode-cn.com/problems/sum-of-distances-in-tree/solution/qian-xu-hou-xu-de-shi-yong-by-jzsq_lyx-kx2f/)
> å‚è€ƒé¢˜è§£: https://leetcode-cn.com/problems/sum-of-distances-in-tree/solution/shou-hua-tu-jie-shu-zhong-ju-chi-zhi-he-shu-xing-d/

åˆ†æ
1. nodeNum å­˜å‚¨çš„æ˜¯å­æ ‘ root æ€»çš„èŠ‚ç‚¹æ•°ï¼ŒåŒ…æ‹¬æ‰€æœ‰å­èŠ‚ç‚¹å’Œå½“å‰æ ¹èŠ‚ç‚¹ -- nodeNum[root] = sum( nodeNum[child])+1
2. distSum å­˜å‚¨çš„æ˜¯æ‰€æœ‰å­èŠ‚ç‚¹åˆ°çš„æ ¹èŠ‚ç‚¹ root çš„æ€»è·ç¦»ï¼ŒåŒ…æ‹¬äº†æ‰€æœ‰å­æ ‘çš„ distSum å’Œè¿™äº›å­æ ‘èŠ‚ç‚¹å†å¾€ä¸Šèµ°ä¸€æ­¥çš„è·ç¦»ä¹‹å’Œ -- distSum[root] = sum(dist[child]+nodeNum[root])
3. distSum æœ‰ç‚¹ä¸å¥½ç†è§£ï¼Œå…¶å®å°±æ˜¯ä»ä¸‹å¾€ä¸Šé€’å½’æ±‚å‡ºå­æ ‘çš„æ€»è·ç¦»ï¼Œé‚£ä¹ˆçˆ¶èŠ‚ç‚¹çš„æ€»è·ç¦»å°±ç­‰äºè¿™äº›å­æ ‘è·ç¦»ä¹‹å’Œï¼Œç„¶åè¿˜è¦è®©è¿™äº›å­æ ‘èŠ‚ç‚¹å…¨éƒ¨åŠ  1 çš„è·ç¦»ï¼Œä¹Ÿå°±æ˜¯ Sum(nodeNum[child])*1
4. è¿™é‡Œçš„ distSum æ±‚å¾—çš„æ˜¯ï¼Œå­æ ‘è·ç¦»ä¹‹å’Œï¼Œè¿˜éœ€è¦ä»ä¸Šå¾€ä¸‹é€’å½’æ±‚å‡ºçœŸæ­£çš„å…¨éƒ¨èŠ‚ç‚¹çš„è·ç¦»ä¹‹å’Œ 
5. éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™é‡Œåªæ˜¯ä¸€ä¸ªæ¨¡æ‹Ÿçš„æ ‘ï¼Œä¿å­˜çš„æ•°ç»„å…¶å®æ˜¯èŠ‚ç‚¹é™„è¿‘çš„æ‰€æœ‰èŠ‚ç‚¹ï¼Œä¹‹æ‰€ä»¥åˆ†çˆ¶å­èŠ‚ç‚¹ï¼Œæ˜¯ä¸ºäº†ä¿è¯æˆ‘ä»¬å†éå†è¿‡ç¨‹ä¸­å…ˆèµ°çš„èŠ‚ç‚¹ä¸ºçˆ¶èŠ‚ç‚¹ï¼Œåèµ°çš„èŠ‚ç‚¹ä¸ºå­èŠ‚ç‚¹è€Œå·²ï¼›æ‰€ä»¥è¿™ä¸ªè¿çº¿å…¶å®æ²¡æœ‰å®é™…çš„æŒ‡å‘å…³ç³»
6. 
```javascript
var sumOfDistancesInTree = function(n, edges) {
    const graph= new Array().fill(null).map(() => []) // ä¸‹æ ‡å°±æ˜¯æ ¹èŠ‚ç‚¹çš„åæ ‡ï¼Œå€¼å°±æ˜¯å­èŠ‚ç‚¹çš„åæ ‡æ•°ç»„
    for(let [from,to] of edges){
        graph[from].push(to) 
        graph[to].push(from) 
    }
    const distSum = new Array(n).fill(0) // 1. å­˜å‚¨çš„æ˜¯å­æ ‘èŠ‚ç‚¹çš„è·ç¦»ä¹‹å’Œ
    const nodeNum = new Array(n).fill(1) // å­˜å‚¨çš„æ˜¯å­æ ‘æ€»çš„èŠ‚ç‚¹æ•°ï¼Œæœ€å°‘éƒ½æœ‰ä¸€ä¸ª
    // è¿™é‡Œæ˜¯è‡ªåº•å‘ä¸Šæ±‚å‡ºæ¯ä¸ªèŠ‚ç‚¹çš„ distSum å’Œ nodeNum ï¼Œ æ‰€ä»¥ç”¨åç»­éå†
    const postOrder = (root,parent) => {
        const childs = graph[root]
        for(let child of childs) {
            if(child === parent) continue // parent èŠ‚ç‚¹å°±æ˜¯ä¹‹å‰åˆšèµ°è¿‡çš„èŠ‚ç‚¹
            postOrder(child,root)
            nodeNum[root] += nodeNum[child]
            distSum[root] += distSum[child]+nodeNum[child]
        }
    }

    // ç”¨å‰åºéå†æ›´æ–° distSum, è¿™ä¸ªæ—¶å€™ distSum å°±å˜æˆäº†å…¨éƒ¨èŠ‚ç‚¹çš„è·ç¦»å’Œ
    const preOrder = (root,parent) => {
        const childs = graph[root]
        for(let child of childs) {
            if(child === parent) continue // parent èŠ‚ç‚¹å°±æ˜¯ä¹‹å‰åˆšèµ°è¿‡çš„èŠ‚ç‚¹
            distSum[child] = distSum[root] - nodeNum[child] + ( n- nodeNum[child])
            preOrder(child,root)
        }
    }
    postOrder(0,-1)
    preOrder(0,-1)
    return distSum

};
```




